webpackJsonp([0],{"./demo/app.component.html":function(t,e){t.exports='<main [class]="theme">\n    <h1>\n        ngx-jsonapi example\n        \x3c!-- <small class="bg-primary" ng-if="loading">{{ $ctrl.loading }} <img src="http://s.ytimg.com/yt/img/loader-vflff1Mjj.gif" /></small> --\x3e\n    </h1>\n\n    <nav>\n        <ul class="nav nav-pills pull-xs-right">\n            <li class="nav-item">\n                <a class="nav-link" routerLink="/authors">Authors</a>\n            </li>\n            <li class="nav-item">\n                <a class="nav-link" routerLink="/books">Books</a>\n            </li>\n        </ul>\n    </nav>\n\n    <content>\n        <router-outlet></router-outlet>\n    </content>\n</main>\n'},"./demo/app.component.scss":function(t,e,r){var n=r('./node_modules/css-loader/index.js!./node_modules/postcss-loader/index.js!./node_modules/sass-loader/lib/loader.js?{"sourceMap":true}!./demo/app.component.scss');t.exports="string"==typeof n?n:n.toString()},"./demo/app.component.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r("./node_modules/@angular/core/@angular/core.es5.js"),o=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},i=function(){function t(){}return t=o([Object(n.o)({selector:"app",providers:[],styles:[r("./demo/app.component.scss")],template:r("./demo/app.component.html")})],t)}()},"./demo/app.module.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return y});var n=r("./node_modules/@angular/core/@angular/core.es5.js"),o=r("./node_modules/@angular/platform-browser/@angular/platform-browser.es5.js"),i=r("./demo/app.component.ts"),s=r("./node_modules/@angular/router/@angular/router.es5.js"),a=r("./demo/authors/authors.component.ts"),u=r("./demo/authors/author.component.ts"),c=r("./demo/books/books.component.ts"),l=r("./demo/books/book.component.ts"),h=r("./src/index.ts"),p=r("./demo/authors/authors.service.ts"),f=r("./demo/books/books.service.ts"),d=r("./demo/photos/photos.service.ts"),v=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},m=[{path:"",redirectTo:"/authors",pathMatch:"full"},{path:"authors",component:a.a},{path:"authors/:id",component:u.a},{path:"books",component:c.a},{path:"books/:id",component:l.a}],y=function(){function t(){}return t=v([Object(n.M)({providers:[p.a,f.a,d.a],imports:[o.a,s.b.forRoot(m,{useHash:!0}),h.a.forRoot({url:"http://jsonapiplayground.reyesoft.com/v2/"})],declarations:[i.a,a.a,u.a,c.a,l.a],bootstrap:[i.a]})],t)}()},"./demo/authors/author.component.html":function(t,e){t.exports='<h3>Author #{{ author.id }}, with books and photos</h3>\n<pre>authors.get(\'{{ author.id }}\', {{ \'{\' }} include: [\'books\', \'photos\'] {{ \'}\' }});</pre>\n<ul>\n    <li>Name: <strong>{{ author.attributes.name }}</strong></li>\n    <li>Date of birth: <strong>{{ author.attributes.date_of_birth | date }}</strong></li>\n    <li>Date of dead: <strong>{{ author.attributes.date_of_death | date }}</strong></li>\n</ul>\n<p>\n    <button (click)="new()">New author</button>\n    <button (click)="update()">Update author</button>\n    <button (click)="removeRelationship()">Remove relationship</button>\n</p>\n\n<h4>Photos</h4>\n<img *ngFor="let photo of author.relationships.photos.data.$toArray"\n    [src]="photo.attributes.uri" height="150" style="padding-right: 1em"\n    title="Book id #{{ photo.id }}"\n    />\n\n<h4>Books</h4>\n<table class="table table-striped">\n    <thead>\n        <tr>\n            <th>ID</th>\n            <th>Title</th>\n            <th>Date Published</th>\n        </tr>\n    </thead>\n    <tr *ngFor="let book of author.relationships.books.data.$toArray">\n        <td>{{ book.id }}</td>\n        <td>\n            <a>{{ book.attributes.title  }}</a>\n        </td>\n        <td>{{ book.attributes.date_published | date }}</td>\n    </tr>\n</table>\n\n\x3c!-- <h3>Related Books by URL</h3>\n<pre>BooksService.all( {{ \'{\' }} beforepath: \'authors/{{author.id}}\' {{ \'}\' }} );</pre>\n<table class="table table-striped">\n    <thead>\n        <tr>\n            <th>ID</th>\n            <th>Title</th>\n            <th>Date Published</th>\n        </tr>\n    </thead>\n    <tr *ngFor="let book of relatedbooks.$toArray">\n        <td>{{ book.id }}</td>\n        <td>\n            <a ui-sref="book({ bookId: book.id })">{{ book.attributes.title  }}</a>\n        </td>\n        <td>{{ book.attributes.date_published | date }}</td>\n    </tr>\n</table> --\x3e\n\n<p>\n    <a ui-sref="authors">Volver</a>\n</p>\n'},"./demo/authors/author.component.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return c});var n=r("./node_modules/@angular/core/@angular/core.es5.js"),o=r("./demo/authors/authors.service.ts"),i=r("./demo/photos/photos.service.ts"),s=r("./node_modules/@angular/router/@angular/router.es5.js"),a=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e,r){this.authorsService=t,this.photosService=e,this.route=r,t.register(),e.register(),this.author=t.get(this.route.snapshot.paramMap.get("id"),{include:["books","photos"]},function(t){console.info("success authors controller",t)},function(t){console.info("error authors controller",t)})}return t.prototype.new=function(){var t=this.authorsService.new();t.attributes.name="Pablo Reyes",t.attributes.date_of_birth="2030-12-10",console.log("new save",t.toObject())},t.prototype.update=function(){this.author.attributes.name+="o",this.author.save(),console.log("update save with book include",this.author.toObject({include:["books"]})),console.log("update save without any include",this.author.toObject())},t.prototype.removeRelationship=function(){this.author.removeRelationship("photos","1"),this.author.save(),console.log("removeRelationship save with photos include",this.author.toObject())},t=a([Object(n.o)({selector:"author",template:r("./demo/authors/author.component.html")}),u("design:paramtypes",[o.a,i.a,s.a])],t)}()},"./demo/authors/authors.component.html":function(t,e){t.exports='<h3>Authors</h3>\n<p><code>$length={{ authors.$length }}. $is_loading={{ authors.$is_loading }}. $source={{ authors.$source }}.</code></p>\n<table class="table table-striped">\n    <thead>\n        <tr>\n            <th>ID</th>\n            <th>Name</th>\n            <th>Date of birth</th>\n            <th>Date of dead</th>\n        </tr>\n    </thead>\n    <tr *ngFor="let author of authors.$toArray">\n        <td>{{ author.id }}</td>\n        <td>\n            <a [routerLink]="[\'/authors\', author.id]">{{ author.attributes.name  }}</a>\n        </td>\n        <td>{{ author.attributes.date_of_birth | date }}</td>\n        <td>{{ author.attributes.date_of_death | date }}</td>\n        <td><button (click)="delete(author)">Delete</button></td>\n    </tr>\n</table>\n\n\x3c!-- <p>\n<button ng-click="update()">Update author</button>\n<button ng-click="removeRelationship()">Remove relationship</button>\n</p> --\x3e\n'},"./demo/authors/authors.component.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r("./node_modules/@angular/core/@angular/core.es5.js"),o=r("./demo/authors/authors.service.ts"),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){var e=this;this.authorsService=t,t.register(),this.authors=t.all(function(t){console.log("success authors controll",e.authors)},function(t){console.log("error authors controll",t)})}return t=i([Object(n.o)({selector:"authors",template:r("./demo/authors/authors.component.html")}),s("design:paramtypes",[o.a])],t)}()},"./demo/authors/authors.service.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r("./node_modules/@angular/core/@angular/core.es5.js"),o=r("./src/service.ts"),i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),s=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="authors",e.schema={attributes:{name:{},date_of_birth:{default:"1993-12-10"},date_of_death:{},created_at:{},updated_at:{}},relationships:{books:{hasMany:!0},photos:{hasMany:!0}},ttl:10},e}return i(e,t),e=s([Object(n.C)()],e)}(o.a)},"./demo/books/book.component.html":function(t,e){t.exports='<h3>Book</h3>\n<h3>Book #{{ book.id }}</h3>\n<ul>\n    <li>Title: <strong>{{ book.attributes.title }}</strong></li>\n    <li>Date Published: <strong>{{ book.attributes.date_published | date }}</strong></li>\n</ul>\n\n<h4>Author (one)</h4>\n<p><small>This a relationship with <i>hasMany:false</i></small></p>\n<ul>\n    <li>Name: <strong>{{ book.relationships.author.data.attributes ? book.relationships.author.data.attributes.name : \'\' }}</strong></li>\n</ul>\n\n<h4>Photos (many)</h4>\n<p><small>This a relationship with <i>hasMany:true</i></small></p>\n<ul>\n    <li *ngFor="let photo of book.relationships.photos.data.$toArray">\n        URI: <a href="{{ photo.attributes.uri }}">{{ photo.attributes.uri }}</a>\n    </li>\n</ul>\n\n<p>\n    <a ui-sref="books">Volver</a>\n</p>\n'},"./demo/books/book.component.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return l});var n=r("./node_modules/@angular/core/@angular/core.es5.js"),o=r("./demo/authors/authors.service.ts"),i=r("./demo/books/books.service.ts"),s=r("./demo/photos/photos.service.ts"),a=r("./node_modules/@angular/router/@angular/router.es5.js"),u=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,r,n){var o=this;this.authorsService=t,this.booksService=e,this.photosService=r,this.route=n,t.register(),e.register(),r.register(),this.book=e.get(this.route.snapshot.paramMap.get("id"),{include:["author","photos"]},function(t){console.log("success book       ",o.book)},function(t){console.log("error books controll",t)})}return t=u([Object(n.o)({selector:"book",template:r("./demo/books/book.component.html")}),c("design:paramtypes",[o.a,i.a,s.a,a.a])],t)}()},"./demo/books/books.component.html":function(t,e){t.exports='<h3>Books</h3>\n<br/>\n\x3c!-- <label>\n    Search books with:\n    <input\n    ng-model="filter_text"\n    ng-change="getAll({ title: filter_text});"\n    ng-model-options="{ debounce: 200 }"\n    ></input>\n</label> --\x3e\n<table class="table table-striped">\n    <thead>\n        <tr>\n            <th>ID</th>\n            <th>Title</th>\n            <th>Date Published</th>\n            <th>Author</th>\n            <th>Photos</th>\n        </tr>\n    </thead>\n    <tr *ngFor="let book of books.$toArray">\n        <td>{{ book.id }}</td>\n        <td>\n            <a [routerLink]="[\'/books\', book.id]">{{ book.attributes.title  }}</a>\n        </td>\n        <td>{{ book.attributes.date_published | date }}</td>\n        <td>{{ book.relationships.author.data.attributes }} #{{ book.relationships.author.data.id }}</td>\n        <td><span *ngFor="let photo of book.relationships.photos.data.$toArray">{{ photo.id }}</span></td>\n        <td><a ng-click="delete(book)" title="not supported by demo server"><small>DELETE</small></a></td>\n    </tr>\n</table>\n'},"./demo/books/books.component.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r("./node_modules/@angular/core/@angular/core.es5.js"),o=r("./demo/books/books.service.ts"),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){var e=this;this.booksService=t,t.register(),this.books=t.all(function(t){console.info("success books controll",e.books)},function(t){console.info("error books controll",t)})}return t.prototype.getAll=function(t){var e=this;t.date_published={since:"1983-01-01",until:"2010-01-01"},this.books=this.booksService.all({localfilter:{},remotefilter:t,page:{number:1},include:["author","photos"]},function(t){console.log("success books controller",t,e.books),console.log("BooksRequest#1 received (author data from server)",e.books[Object.keys(e.books)[2]].relationships.author.data.attributes),console.log("BooksRequest#2 requested");var r=e.booksService.all(function(t){console.log("BooksRequest#2 received (author data from cache)",r[Object.keys(e.books)[1]].relationships.author.data)});console.log("BookRequest#3 requested");var n=e.booksService.get(1,function(t){console.log("BookRequest#3 received (author data from cache)",n.relationships.author.data.attributes)})},function(t){console.log("error books controller",t)})},t.prototype.delete=function(t){this.booksService.delete(t.id)},t=i([Object(n.o)({selector:"books",template:r("./demo/books/books.component.html")}),s("design:paramtypes",[o.a])],t)}()},"./demo/books/books.service.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r("./node_modules/@angular/core/@angular/core.es5.js"),o=r("./src/service.ts"),i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),s=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="books",e.schema={attributes:{date_published:{},title:{presence:!0,length:{maximum:96}},created_at:{},updated_at:{}},relationships:{author:{hasMany:!1},photos:{hasMany:!0}},ttl:10},e}return i(e,t),e.prototype.parseFromServer=function(t){t.title="ðŸ“– "+t.title},e.prototype.parseToServer=function(t){"title"in t&&(t.title=t.title.replace("ðŸ“– ",""))},e=s([Object(n.C)()],e)}(o.a)},"./demo/bootstrap.ts":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("./node_modules/@angular/platform-browser-dynamic/@angular/platform-browser-dynamic.es5.js"),o=r("./demo/app.module.ts");document.addEventListener("DOMContentLoaded",function(){Object(n.a)().bootstrapModule(o.a).catch(function(t){return console.error(t)})})},"./demo/photos/photos.service.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r("./node_modules/@angular/core/@angular/core.es5.js"),o=r("./src/service.ts"),i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),s=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="photos",e.schema={attributes:{title:{},uri:{},imageable_id:{},created_at:{},updated_at:{}}},e}return i(e,t),e=s([Object(n.C)()],e)}(o.a)},"./node_modules/@angular/common/@angular/common/http.es5.js":function(t,e,r){"use strict";function n(t,e){var r=new Map;if(t.length>0){t.split("&").forEach(function(t){var n=t.indexOf("="),o=-1==n?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,n)),e.decodeValue(t.slice(n+1))],i=o[0],s=o[1],a=r.get(i)||[];a.push(s),r.set(i,a)})}return r}function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function i(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function s(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function a(t){return"undefined"!=typeof Blob&&t instanceof Blob}function u(t){return"undefined"!=typeof FormData&&t instanceof FormData}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function c(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}function l(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function h(t,e){return void 0===e&&(e=[]),e?e.reduceRight(function(t,e){return new I(t,e)},t):t}function p(){return"object"==typeof window?window:{}}r.d(e,"a",function(){return T}),r.d(e,"c",function(){return x}),r.d(e,"b",function(){return K}),r.d(e,"d",function(){return C});var f=r("./node_modules/tslib/tslib.es6.js"),d=r("./node_modules/@angular/core/@angular/core.es5.js"),v=r("./node_modules/rxjs/observable/of.js"),m=(r.n(v),r("./node_modules/rxjs/operator/concatMap.js")),y=(r.n(m),r("./node_modules/rxjs/operator/filter.js")),g=(r.n(y),r("./node_modules/rxjs/operator/map.js")),b=(r.n(g),r("./node_modules/@angular/common/@angular/common.es5.js")),_=r("./node_modules/rxjs/Observable.js"),j=(r.n(_),function(){function t(){}return t.prototype.handle=function(t){},t}()),w=function(){function t(){}return t.prototype.handle=function(t){},t}(),S=function(){function t(){}return t.prototype.encodeKey=function(t){return o(t)},t.prototype.encodeValue=function(t){return o(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}(),O=function(){function t(t){void 0===t&&(t={}),this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new S,this.map=t.fromString?n(t.fromString,this.encoder):null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var r=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return r+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var r=new t({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat([e]),r},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var r=("a"===e.op?t.map.get(e.param):void 0)||[];r.push(e.value),t.map.set(e.param,r);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var n=t.map.get(e.param)||[],o=n.indexOf(e.value);-1!==o&&n.splice(o,1),n.length>0?t.map.set(e.param,n):t.map.delete(e.param)}}),this.cloneFrom=null)},t}(),x=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var r=t.indexOf(":");if(r>0){var n=t.slice(0,r),o=n.toLowerCase(),i=t.slice(r+1).trim();e.maybeSetNormalizedName(n,o),e.headers.has(o)?e.headers.get(o).push(i):e.headers.set(o,[i])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(r){var n=t[r],o=r.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(e.headers.set(o,n),e.maybeSetNormalizedName(r,o))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(r){e.headers.set(r,t.headers.get(r)),e.normalizedNames.set(r,t.normalizedNames.get(r))})},t.prototype.clone=function(e){var r=new t;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);var n=("a"===t.op?this.headers.get(e):void 0)||[];n.push.apply(n,r),this.headers.set(e,n);break;case"d":var o=t.value;if(o){var i=this.headers.get(e);if(!i)return;i=i.filter(function(t){return-1===o.indexOf(t)}),0===i.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,i)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(r){return t(e.normalizedNames.get(r),e.headers.get(r))})},t}(),C=function(){function t(t,e,r,n){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();var o;if(i(this.method)||n?(this.body=r||null,o=n):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new x),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{var a=e.indexOf("?"),u=-1===a?"?":a<e.length-1?"&":"";this.urlWithParams=e+u+s}}else this.params=new O,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:s(this.body)||a(this.body)||u(this.body)||"string"==typeof this.body?this.body:this.body instanceof O?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:u(this.body)?null:a(this.body)?this.body.type||null:s(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof O?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var r=e.method||this.method,n=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,r){return t.set(r,e.setHeaders[r])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,r){return t.set(r,e.setParams[r])},c)),new t(r,n,i,{params:c,headers:u,reportProgress:a,responseType:o,withCredentials:s})},t}(),R={};R.Sent=0,R.UploadProgress=1,R.ResponseHeader=2,R.DownloadProgress=3,R.Response=4,R.User=5,R[R.Sent]="Sent",R[R.UploadProgress]="UploadProgress",R[R.ResponseHeader]="ResponseHeader",R[R.DownloadProgress]="DownloadProgress",R[R.Response]="Response",R[R.User]="User";var P=function(){function t(t,e,r){void 0===e&&(e=200),void 0===r&&(r="OK"),this.headers=t.headers||new x,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}return t}(),k=function(t){function e(e){void 0===e&&(e={});var r=t.call(this,e)||this;return r.type=R.ResponseHeader,r}return f.a(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(P),E=function(t){function e(e){void 0===e&&(e={});var r=t.call(this,e)||this;return r.type=R.Response,r.body=e.body||null,r}return f.a(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(P),A=function(t){function e(e){var r=t.call(this,e,0,"Unknown Error")||this;return r.name="HttpErrorResponse",r.ok=!1,r.status>=200&&r.status<300?r.message="Http failure during parsing for "+(e.url||"(unknown url)"):r.message="Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,r.error=e.error||null,r}return f.a(e,t),e}(P),T=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,r){var n=this;void 0===r&&(r={});var o;o=t instanceof C?t:new C(t,e,r.body||null,{headers:r.headers,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials});var i=m.concatMap.call(Object(v.of)(o),function(t){return n.handler.handle(t)});if(t instanceof C||"events"===r.observe)return i;var s=y.filter.call(i,function(t){return t instanceof E});switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return g.map.call(s,function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body});case"blob":return g.map.call(s,function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body});case"text":return g.map.call(s,function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body});case"json":default:return g.map.call(s,function(t){return t.body})}case"response":return s;default:throw new Error("Unreachable: unhandled observe type "+r.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new O).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,r){return void 0===r&&(r={}),this.request("PATCH",t,c(r,e))},t.prototype.post=function(t,e,r){return void 0===r&&(r={}),this.request("POST",t,c(r,e))},t.prototype.put=function(t,e,r){return void 0===r&&(r={}),this.request("PUT",t,c(r,e))},t}();T.decorators=[{type:d.C}],T.ctorParameters=function(){return[{type:j}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var I=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),U=new d.D("HTTP_INTERCEPTORS"),M=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}();M.decorators=[{type:d.C}],M.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var N=0,D=function(){function t(){}return t}(),F=function(){function t(t,e){this.callbackMap=t,this.document=e}return t.prototype.nextCallback=function(){return"ng_jsonp_callback_"+N++},t.prototype.handle=function(t){var e=this;if("JSONP"!==t.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==t.responseType)throw new Error("JSONP requests must use Json response type.");return new _.Observable(function(r){var n=e.nextCallback(),o=t.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,"="+n+"$1"),i=e.document.createElement("script");i.src=o;var s=null,a=!1,u=!1;e.callbackMap[n]=function(t){delete e.callbackMap[n],u||(s=t,a=!0)};var c=function(){i.parentNode&&i.parentNode.removeChild(i),delete e.callbackMap[n]},l=function(t){if(!u){if(c(),!a)return void r.error(new A({url:o,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}));r.next(new E({body:s,status:200,statusText:"OK",url:o})),r.complete()}},h=function(t){u||(c(),r.error(new A({error:t,status:0,statusText:"JSONP Error",url:o})))};return i.addEventListener("load",l),i.addEventListener("error",h),e.document.body.appendChild(i),r.next({type:R.Sent}),function(){u=!0,i.removeEventListener("load",l),i.removeEventListener("error",h),c()}})},t}();F.decorators=[{type:d.C}],F.ctorParameters=function(){return[{type:D},{type:void 0,decorators:[{type:d.B,args:[b.c]}]}]};var L=function(){function t(t){this.jsonp=t}return t.prototype.intercept=function(t,e){return"JSONP"===t.method?this.jsonp.handle(t):e.handle(t)},t}();L.decorators=[{type:d.C}],L.ctorParameters=function(){return[{type:F}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var q=/^\)\]\}',?\n/,z=function(){function t(){}return t.prototype.build=function(){},t}(),B=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}();B.decorators=[{type:d.C}],B.ctorParameters=function(){return[]};var H=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new _.Observable(function(r){var n=e.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach(function(t,e){return n.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var o=t.detectContentTypeHeader();null!==o&&n.setRequestHeader("Content-Type",o)}if(t.responseType){var i=t.responseType.toLowerCase();n.responseType="json"!==i?i:"text"}var s=t.serializeBody(),a=null,u=function(){if(null!==a)return a;var e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new x(n.getAllResponseHeaders()),i=l(n)||t.url;return a=new k({headers:o,status:e,statusText:r,url:i})},c=function(){var e=u(),o=e.headers,i=e.status,s=e.statusText,a=e.url,c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);var l=i>=200&&i<300;if(l&&"json"===t.responseType&&"string"==typeof c){c=c.replace(q,"");try{c=JSON.parse(c)}catch(t){l=!1,c={error:t,text:c}}}l?(r.next(new E({body:c,headers:o,status:i,statusText:s,url:a||void 0})),r.complete()):r.error(new A({error:c,headers:o,status:i,statusText:s,url:a||void 0}))},h=function(t){var e=new A({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error"});r.error(e)},p=!1,f=function(e){p||(r.next(u()),p=!0);var o={type:R.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(o.total=e.total),"text"===t.responseType&&n.responseText&&(o.partialText=n.responseText),r.next(o)},d=function(t){var e={type:R.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),r.next(e)};return n.addEventListener("load",c),n.addEventListener("error",h),t.reportProgress&&(n.addEventListener("progress",f),null!==s&&n.upload&&n.upload.addEventListener("progress",d)),n.send(s),r.next({type:R.Sent}),function(){n.removeEventListener("error",h),n.removeEventListener("load",c),t.reportProgress&&(n.removeEventListener("progress",f),null!==s&&n.upload&&n.upload.removeEventListener("progress",d)),n.abort()}})},t}();H.decorators=[{type:d.C}],H.ctorParameters=function(){return[{type:z}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var J=new d.D("XSRF_COOKIE_NAME"),V=new d.D("XSRF_HEADER_NAME"),W=function(){function t(){}return t.prototype.getToken=function(){},t}(),G=function(){function t(t,e,r){this.doc=t,this.platform=e,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(b.k)(t,this.cookieName),this.lastCookieString=t),this.lastToken},t}();G.decorators=[{type:d.C}],G.ctorParameters=function(){return[{type:void 0,decorators:[{type:d.B,args:[b.c]}]},{type:void 0,decorators:[{type:d.B,args:[d.V]}]},{type:void 0,decorators:[{type:d.B,args:[J]}]}]};var $=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return e.handle(t);var n=this.tokenService.getToken();return null===n||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,n)})),e.handle(t)},t}();$.decorators=[{type:d.C}],$.ctorParameters=function(){return[{type:W},{type:void 0,decorators:[{type:d.B,args:[V]}]}]};var Q=function(){function t(){}return t.disable=function(){return{ngModule:t,providers:[{provide:$,useClass:M}]}},t.withOptions=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.cookieName?{provide:J,useValue:e.cookieName}:[],e.headerName?{provide:V,useValue:e.headerName}:[]]}},t}();Q.decorators=[{type:d.M,args:[{providers:[$,{provide:U,useExisting:$,multi:!0},{provide:W,useClass:G},{provide:J,useValue:"XSRF-TOKEN"},{provide:V,useValue:"X-XSRF-TOKEN"}]}]}],Q.ctorParameters=function(){return[]};var K=function(){function t(){}return t}();K.decorators=[{type:d.M,args:[{imports:[Q.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})],providers:[T,{provide:j,useFactory:h,deps:[w,[new d.S,new d.B(U)]]},H,{provide:w,useExisting:H},B,{provide:z,useExisting:B}]}]}],K.ctorParameters=function(){return[]};var X=function(){function t(){}return t}();X.decorators=[{type:d.M,args:[{providers:[F,{provide:D,useFactory:p},{provide:U,useClass:L,multi:!0}]}]}],X.ctorParameters=function(){return[]}},"./node_modules/@angular/router/@angular/router.es5.js":function(t,e,r){"use strict";function n(t){return new Be(t)}function o(t){var e=Error("NavigationCancelingError: "+t);return e[He]=!0,e}function i(t){return t[He]}function s(t,e,r){var n=r.path.split("/");if(n.length>t.length)return null;if("full"===r.pathMatch&&(e.hasChildren()||n.length<t.length))return null;for(var o={},i=0;i<n.length;i++){var s=n[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:o}}function a(t,e){void 0===e&&(e="");for(var r=0;r<t.length;r++){var n=t[r];u(n,c(e,n))}}function u(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==ze)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch){throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.")}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&a(t.children,e)}function c(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function l(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(!h(t[r],e[r]))return!1;return!0}function h(t,e){var r=Object.keys(t),n=Object.keys(e);if(r.length!=n.length)return!1;for(var o,i=0;i<r.length;i++)if(o=r[i],t[o]!==e[o])return!1;return!0}function p(t){return Array.prototype.concat.apply([],t)}function f(t){return t.length>0?t[t.length-1]:null}function d(t,e){for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)}function v(t,e){if(0===Object.keys(t).length)return Object(de.of)({});var r=[],n=[],o={};d(t,function(t,i){var s=be.map.call(e(i,t),function(t){return o[i]=t});i===ze?r.push(s):n.push(s)});var i=Oe.concatAll.call(de.of.apply(void 0,r.concat(n))),s=ge.last.call(i);return be.map.call(s,function(){return o})}function m(t){var e=Re.mergeAll.call(t);return me.every.call(e,function(t){return!0===t})}function y(t){return Object(le._54)(t)?t:Object(le._55)(t)?Object(Ce.fromPromise)(Promise.resolve(t)):Object(de.of)(t)}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function g(){return new Ve(new We([],{}),{},null)}function b(t,e,r){return r?_(t.queryParams,e.queryParams)&&j(t.root,e.root):w(t.queryParams,e.queryParams)&&S(t.root,e.root)}function _(t,e){return h(t,e)}function j(t,e){if(!C(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var r in e.children){if(!t.children[r])return!1;if(!j(t.children[r],e.children[r]))return!1}return!0}function w(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(r){return e[r]===t[r]})}function S(t,e){return O(t,e,e.segments)}function O(t,e,r){if(t.segments.length>r.length){var n=t.segments.slice(0,r.length);return!!C(n,r)&&!e.hasChildren()}if(t.segments.length===r.length){if(!C(t.segments,r))return!1;for(var o in e.children){if(!t.children[o])return!1;if(!S(t.children[o],e.children[o]))return!1}return!0}var n=r.slice(0,t.segments.length),i=r.slice(t.segments.length);return!!C(t.segments,n)&&(!!t.children[ze]&&O(t.children[ze],e,i))}function x(t,e){return C(t,e)&&t.every(function(t,r){return h(t.parameters,e[r].parameters)})}function C(t,e){return t.length===e.length&&t.every(function(t,r){return t.path===e[r].path})}function R(t,e){var r=[];return d(t.children,function(t,n){n===ze&&(r=r.concat(e(t,n)))}),d(t.children,function(t,n){n!==ze&&(r=r.concat(e(t,n)))}),r}function P(t){return t.segments.map(function(t){return T(t)}).join("/")}function k(t,e){if(!t.hasChildren())return P(t);if(e){var r=t.children[ze]?k(t.children[ze],!1):"",n=[];return d(t.children,function(t,e){e!==ze&&n.push(e+":"+k(t,!1))}),n.length>0?r+"("+n.join("//")+")":r}var o=R(t,function(e,r){return r===ze?[k(t.children[ze],!1)]:[r+":"+k(e,!1)]});return P(t)+"/("+o.join("//")+")"}function E(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function A(t){return decodeURIComponent(t)}function T(t){return""+E(t.path)+I(t.parameters)}function I(t){return Object.keys(t).map(function(e){return";"+E(e)+"="+E(t[e])}).join("")}function U(t){var e=Object.keys(t).map(function(e){var r=t[e];return Array.isArray(r)?r.map(function(t){return E(e)+"="+E(t)}).join("&"):E(e)+"="+E(r)});return e.length?"?"+e.join("&"):""}function M(t){var e=t.match(Xe);return e?e[0]:""}function N(t){var e=t.match(Ye);return e?e[0]:""}function D(t){var e=t.match(Ze);return e?e[0]:""}function F(t){return new we.Observable(function(e){return e.error(new er(t))})}function L(t){return new we.Observable(function(e){return e.error(new rr(t))})}function q(t){return new we.Observable(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}function z(t){return new we.Observable(function(e){return e.error(o("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}function B(t,e,r,n,o){return new nr(t,e,r,n,o).apply()}function H(t,e){var r=e.canLoad;return r&&0!==r.length?m(be.map.call(Object(fe.from)(r),function(r){var n=t.get(r);return y(n.canLoad?n.canLoad(e):n(e))})):Object(de.of)(!0)}function J(t,e,r){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||r.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var n=e.matcher||s,o=n(r,t,e);return o?{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,positionalParamSegments:o.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function V(t,e,r,n){if(r.length>0&&Q(t,r,n)){var o=new We(e,$(n,new We(r,t.children)));return{segmentGroup:W(o),slicedSegments:[]}}if(0===r.length&&K(t,r,n)){var o=new We(t.segments,G(t,r,n,t.children));return{segmentGroup:W(o),slicedSegments:r}}return{segmentGroup:t,slicedSegments:r}}function W(t){if(1===t.numberOfChildren&&t.children[ze]){var e=t.children[ze];return new We(t.segments.concat(e.segments),e.children)}return t}function G(t,e,r,n){for(var o={},i=0,s=r;i<s.length;i++){var a=s[i];X(t,e,a)&&!n[Y(a)]&&(o[Y(a)]=new We([],{}))}return Object.assign({},n,o)}function $(t,e){var r={};r[ze]=e;for(var n=0,o=t;n<o.length;n++){var i=o[n];""===i.path&&Y(i)!==ze&&(r[Y(i)]=new We([],{}))}return r}function Q(t,e,r){return r.some(function(r){return X(t,e,r)&&Y(r)!==ze})}function K(t,e,r){return r.some(function(r){return X(t,e,r)})}function X(t,e,r){return(!(t.hasChildren()||e.length>0)||"full"!==r.pathMatch)&&(""===r.path&&void 0!==r.redirectTo)}function Y(t){return t.outlet||ze}function Z(t,e){if(t===e.value)return e;for(var r=0,n=e.children;r<n.length;r++){var o=n[r],i=Z(t,o);if(i)return i}return null}function tt(t,e){if(t===e.value)return[e];for(var r=0,n=e.children;r<n.length;r++){var o=n[r],i=tt(t,o);if(i.length)return i.unshift(e),i}return[]}function et(t,e){var r=rt(t,e),n=new he.BehaviorSubject([new Ge("",{})]),o=new he.BehaviorSubject({}),i=new he.BehaviorSubject({}),s=new he.BehaviorSubject({}),a=new he.BehaviorSubject(""),u=new ar(n,o,s,a,i,ze,e,r.root);return u.snapshot=r.root,new sr(new ir(u,[]),r)}function rt(t,e){var r={},n={},o={},i=new ur([],r,o,"",n,ze,e,null,t.root,-1,{});return new cr("",new ir(i,[]))}function nt(t){for(var e=t.pathFromRoot,r=e.length-1;r>=1;){var n=e[r],o=e[r-1];if(n.routeConfig&&""===n.routeConfig.path)r--;else{if(o.component)break;r--}}return e.slice(r).reduce(function(t,e){return{params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}function ot(t,e){e.value._routerState=t,e.children.forEach(function(e){return ot(t,e)})}function it(t){var e=t.children.length>0?" { "+t.children.map(it).join(", ")+" } ":"";return""+t.value+e}function st(t){if(t.snapshot){var e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,h(e.queryParams,r.queryParams)||t.queryParams.next(r.queryParams),e.fragment!==r.fragment&&t.fragment.next(r.fragment),h(e.params,r.params)||t.params.next(r.params),l(e.url,r.url)||t.url.next(r.url),h(e.data,r.data)||t.data.next(r.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function at(t,e){var r=h(t.params,e.params)&&x(t.url,e.url),n=!t.parent!=!e.parent;return r&&!n&&(!t.parent||at(t.parent,e.parent))}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function ut(t,e,r){var n=ct(t,e._root,r?r._root:void 0);return new sr(n,e)}function ct(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){var n=r.value;n._futureSnapshot=e.value;var o=ht(t,e,r);return new ir(n,o)}if(t.retrieve(e.value)){var i=t.retrieve(e.value).route;return lt(e,i),i}var n=pt(e.value),o=e.children.map(function(e){return ct(t,e)});return new ir(n,o)}function lt(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)lt(t.children[r],e.children[r])}function ht(t,e,r){return e.children.map(function(e){for(var n=0,o=r.children;n<o.length;n++){var i=o[n];if(t.shouldReuseRoute(i.value.snapshot,e.value))return ct(t,e,i)}return ct(t,e)})}function pt(t){return new ar(new he.BehaviorSubject(t.url),new he.BehaviorSubject(t.params),new he.BehaviorSubject(t.queryParams),new he.BehaviorSubject(t.fragment),new he.BehaviorSubject(t.data),t.outlet,t.component,t)}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function ft(t,e,r,n,o){if(0===r.length)return vt(e.root,e.root,e,n,o);var i=yt(r);if(i.toRoot())return vt(e.root,new We([],{}),e,n,o);var s=gt(i,e,t),a=s.processChildren?St(s.segmentGroup,s.index,i.commands):wt(s.segmentGroup,s.index,i.commands);return vt(s.segmentGroup,a,e,n,o)}function dt(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function vt(t,e,r,n,o){var i={};return n&&d(n,function(t,e){i[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),r.root===t?new Ve(e,i,o):new Ve(mt(r.root,t,e),i,o)}function mt(t,e,r){var n={};return d(t.children,function(t,o){n[o]=t===e?r:mt(t,e,r)}),new We(t.segments,n)}function yt(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new lr(!0,0,t);var e=0,r=!1,n=t.reduce(function(t,n,o){if("object"==typeof n&&null!=n){if(n.outlets){var i={};return d(n.outlets,function(t,e){i[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:i}])}if(n.segmentPath)return t.concat([n.segmentPath])}return"string"!=typeof n?t.concat([n]):0===o?(n.split("/").forEach(function(n,o){0==o&&"."===n||(0==o&&""===n?r=!0:".."===n?e++:""!=n&&t.push(n))}),t):t.concat([n])},[]);return new lr(r,e,n)}function gt(t,e,r){if(t.isAbsolute)return new hr(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new hr(r.snapshot._urlSegment,!0,0);var n=dt(t.commands[0])?0:1,o=r.snapshot._lastPathIndex+n;return bt(r.snapshot._urlSegment,o,t.numberOfDoubleDots)}function bt(t,e,r){for(var n=t,o=e,i=r;i>o;){if(i-=o,!(n=n.parent))throw new Error("Invalid number of '../'");o=n.segments.length}return new hr(n,!1,o-i)}function _t(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[ze]:""+t}function jt(t){return"object"!=typeof t[0]?(e={},e[ze]=t,e):void 0===t[0].outlets?(r={},r[ze]=t,r):t[0].outlets;var e,r}function wt(t,e,r){if(t||(t=new We([],{})),0===t.segments.length&&t.hasChildren())return St(t,e,r);var n=Ot(t,e,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){var i=new We(t.segments.slice(0,n.pathIndex),{});return i.children[ze]=new We(t.segments.slice(n.pathIndex),t.children),St(i,0,o)}return n.match&&0===o.length?new We(t.segments,{}):n.match&&!t.hasChildren()?xt(t,e,r):n.match?St(t,0,o):xt(t,e,r)}function St(t,e,r){if(0===r.length)return new We(t.segments,{});var n=jt(r),o={};return d(n,function(r,n){null!==r&&(o[n]=wt(t.children[n],e,r))}),d(t.children,function(t,e){void 0===n[e]&&(o[e]=t)}),new We(t.segments,o)}function Ot(t,e,r){for(var n=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};o<t.segments.length;){if(n>=r.length)return i;var s=t.segments[o],a=_t(r[n]),u=n<r.length-1?r[n+1]:null;if(o>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Pt(a,u,s))return i;n+=2}else{if(!Pt(a,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}function xt(t,e,r){for(var n=t.segments.slice(0,e),o=0;o<r.length;){if("object"==typeof r[o]&&void 0!==r[o].outlets){var i=Ct(r[o].outlets);return new We(n,i)}if(0===o&&dt(r[0])){var s=t.segments[e];n.push(new Ge(s.path,r[0])),o++}else{var a=_t(r[o]),u=o<r.length-1?r[o+1]:null;a&&u&&dt(u)?(n.push(new Ge(a,Rt(u))),o+=2):(n.push(new Ge(a,{})),o++)}}return new We(n,{})}function Ct(t){var e={};return d(t,function(t,r){null!==t&&(e[r]=xt(new We([],{}),0,t))}),e}function Rt(t){var e={};return d(t,function(t,r){return e[r]=""+t}),e}function Pt(t,e,r){return t==r.path&&h(e,r.parameters)}function kt(t,e,r,n){return new fr(t,e,r,n).recognize()}function Et(t){t.sort(function(t,e){return t.value.outlet===ze?-1:e.value.outlet===ze?1:t.value.outlet.localeCompare(e.value.outlet)})}function At(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}function Tt(t,e,r){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||r.length>0))throw new pr;return{consumedSegments:[],lastChild:0,parameters:{}}}var n=e.matcher||s,o=n(r,t,e);if(!o)throw new pr;var i={};d(o.posParams,function(t,e){i[e]=t.path});var a=o.consumed.length>0?Object.assign({},i,o.consumed[o.consumed.length-1].parameters):i;return{consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:a}}function It(t){var e={};t.forEach(function(t){var r=e[t.value.outlet];if(r){var n=r.url.map(function(t){return t.toString()}).join("/"),o=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+n+"' and '"+o+"'.")}e[t.value.outlet]=t.value})}function Ut(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Mt(t){for(var e=t,r=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)e=e._sourceSegment,r+=e._segmentIndexShift?e._segmentIndexShift:0;return r-1}function Nt(t,e,r,n){if(r.length>0&&Lt(t,r,n)){var o=new We(e,Ft(t,e,n,new We(r,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===r.length&&qt(t,r,n)){var i=new We(t.segments,Dt(t,r,n,t.children));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:r}}var s=new We(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:r}}function Dt(t,e,r,n){for(var o={},i=0,s=r;i<s.length;i++){var a=s[i];if(zt(t,e,a)&&!n[Bt(a)]){var u=new We([],{});u._sourceSegment=t,u._segmentIndexShift=t.segments.length,o[Bt(a)]=u}}return Object.assign({},n,o)}function Ft(t,e,r,n){var o={};o[ze]=n,n._sourceSegment=t,n._segmentIndexShift=e.length;for(var i=0,s=r;i<s.length;i++){var a=s[i];if(""===a.path&&Bt(a)!==ze){var u=new We([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,o[Bt(a)]=u}}return o}function Lt(t,e,r){return r.some(function(r){return zt(t,e,r)&&Bt(r)!==ze})}function qt(t,e,r){return r.some(function(r){return zt(t,e,r)})}function zt(t,e,r){return(!(t.hasChildren()||e.length>0)||"full"!==r.pathMatch)&&(""===r.path&&void 0===r.redirectTo)}function Bt(t){return t.outlet||ze}function Ht(t){return t.data||{}}function Jt(t){return t.resolve||{}}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Vt(t){throw t}function Wt(t){return Object(de.of)(null)}function Gt(t){st(t.value),t.children.forEach(Gt)}function $t(t){for(var e=t.parent;e;e=e.parent){var r=e._routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}function Qt(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var r=e._routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}function Kt(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}function Xt(t){for(var e=0;e<t.length;e++){var r=t[e];if(null==r)throw new Error("The requested path contains "+r+" segment at index "+e)}}function Yt(t){return""===t||!!t}function Zt(){return new le.Q("Router",_r)}function te(t,e,r){return void 0===r&&(r={}),r.useHash?new ce.d(t,e):new ce.h(t,e)}function ee(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function re(t){return[{provide:le.a,multi:!0,useValue:t},{provide:mr,multi:!0,useValue:t}]}function ne(t,e,r,n,o,i,s,a,u,c,l){void 0===u&&(u={});var h=new _r(null,e,r,n,o,i,s,p(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.enableTracing){var f=Object(Pe.d)();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return h}function oe(t){return t.routerState.root}function ie(t){return t.appInitializer.bind(t)}function se(t){return t.bootstrapListener.bind(t)}function ae(){return[zr,{provide:le.d,multi:!0,useFactory:ie,deps:[zr]},{provide:Br,useFactory:se,deps:[zr]},{provide:le.b,multi:!0,useExisting:Br}]}r.d(e,"b",function(){return qr}),r.d(e,"a",function(){return ar});var ue=r("./node_modules/tslib/tslib.es6.js"),ce=r("./node_modules/@angular/common/@angular/common.es5.js"),le=r("./node_modules/@angular/core/@angular/core.es5.js"),he=r("./node_modules/rxjs/BehaviorSubject.js"),pe=(r.n(he),r("./node_modules/rxjs/Subject.js")),fe=(r.n(pe),r("./node_modules/rxjs/observable/from.js")),de=(r.n(fe),r("./node_modules/rxjs/observable/of.js")),ve=(r.n(de),r("./node_modules/rxjs/operator/concatMap.js")),me=(r.n(ve),r("./node_modules/rxjs/operator/every.js")),ye=(r.n(me),r("./node_modules/rxjs/operator/first.js")),ge=(r.n(ye),r("./node_modules/rxjs/operator/last.js")),be=(r.n(ge),r("./node_modules/rxjs/operator/map.js")),_e=(r.n(be),r("./node_modules/rxjs/operator/mergeMap.js")),je=(r.n(_e),r("./node_modules/rxjs/operator/reduce.js")),we=(r.n(je),r("./node_modules/rxjs/Observable.js")),Se=(r.n(we),r("./node_modules/rxjs/operator/catch.js")),Oe=(r.n(Se),r("./node_modules/rxjs/operator/concatAll.js")),xe=(r.n(Oe),r("./node_modules/rxjs/util/EmptyError.js")),Ce=(r.n(xe),r("./node_modules/rxjs/observable/fromPromise.js")),Re=(r.n(Ce),r("./node_modules/rxjs/operator/mergeAll.js")),Pe=(r.n(Re),r("./node_modules/@angular/platform-browser/@angular/platform-browser.es5.js")),ke=r("./node_modules/rxjs/operator/filter.js"),Ee=(r.n(ke),function(){function t(t,e){this.id=t,this.url=e}return t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}()),Ae=function(){function t(t,e,r){this.id=t,this.url=e,this.urlAfterRedirects=r}return t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(),Te=function(){function t(t,e,r){this.id=t,this.url=e,this.reason=r}return t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(),Ie=function(){function t(t,e,r){this.id=t,this.url=e,this.error=r}return t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(),Ue=function(){function t(t,e,r,n){this.id=t,this.url=e,this.urlAfterRedirects=r,this.state=n}return t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Me=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Ne=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),De=function(){function t(t,e,r,n){this.id=t,this.url=e,this.urlAfterRedirects=r,this.state=n}return t.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Fe=function(){function t(t,e,r,n,o){this.id=t,this.url=e,this.urlAfterRedirects=r,this.state=n,this.shouldActivate=o}return t.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},t}(),Le=function(){function t(t,e,r,n){this.id=t,this.url=e,this.urlAfterRedirects=r,this.state=n}return t.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),qe=function(){function t(t,e,r,n){this.id=t,this.url=e,this.urlAfterRedirects=r,this.state=n}return t.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),ze="primary",Be=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}(),He="ngNavigationCancelingError",Je=function(){function t(t,e){this.routes=t,this.module=e}return t}(),Ve=function(){function t(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=n(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Ke.serialize(this)},t}(),We=function(){function t(t,e){var r=this;this.segments=t,this.children=e,this.parent=null,d(e,function(t,e){return t.parent=r})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return P(this)},t}(),Ge=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=n(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return T(this)},t}(),$e=function(){function t(){}return t.prototype.parse=function(t){},t.prototype.serialize=function(t){},t}(),Qe=function(){function t(){}return t.prototype.parse=function(t){var e=new tr(t);return new Ve(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){return"/"+k(t.root,!0)+U(t.queryParams)+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Ke=new Qe,Xe=/^[^\/()?;=&#]+/,Ye=/^[^=?&#]+/,Ze=/^[^?&#]+/,tr=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURI(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[ze]=new We(t,e)),r},t.prototype.parseSegment=function(){var t=M(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Ge(A(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=M(this.remaining);if(e){this.capture(e);var r="";if(this.consumeOptional("=")){var n=M(this.remaining);n&&(r=n,this.capture(r))}t[A(e)]=A(r)}},t.prototype.parseQueryParam=function(t){var e=N(this.remaining);if(e){this.capture(e);var r="";if(this.consumeOptional("=")){var n=D(this.remaining);n&&(r=n,this.capture(r))}var o=A(e),i=A(r);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var r=M(this.remaining),n=this.remaining[r.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error("Cannot parse url '"+this.url+"'");var o=void 0;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ze);var i=this.parseChildren();e[o]=1===Object.keys(i).length?i[ze]:new We([],i),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),er=function(){function t(t){this.segmentGroup=t||null}return t}(),rr=function(){function t(t){this.urlTree=t}return t}(),nr=function(){function t(t,e,r,n,o){this.configLoader=e,this.urlSerializer=r,this.urlTree=n,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(le.P)}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,ze),r=be.map.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return Se._catch.call(r,function(e){if(e instanceof rr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof er)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,r=this.expandSegmentGroup(this.ngModule,this.config,t.root,ze),n=be.map.call(r,function(r){return e.createUrlTree(r,t.queryParams,t.fragment)});return Se._catch.call(n,function(t){if(t instanceof er)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,r){var n=t.segments.length>0?new We([],(o={},o[ze]=t,o)):t;return new Ve(n,e,r);var o},t.prototype.expandSegmentGroup=function(t,e,r,n){return 0===r.segments.length&&r.hasChildren()?be.map.call(this.expandChildren(t,e,r),function(t){return new We([],t)}):this.expandSegment(t,r,e,r.segments,n,!0)},t.prototype.expandChildren=function(t,e,r){var n=this;return v(r.children,function(r,o){return n.expandSegmentGroup(t,e,o,r)})},t.prototype.expandSegment=function(t,e,r,n,o,i){var s=this,a=de.of.apply(void 0,r),u=be.map.call(a,function(a){var u=s.expandSegmentAgainstRoute(t,e,r,a,n,o,i);return Se._catch.call(u,function(t){if(t instanceof er)return Object(de.of)(null);throw t})}),c=Oe.concatAll.call(u),l=ye.first.call(c,function(t){return!!t});return Se._catch.call(l,function(t,r){if(t instanceof xe.EmptyError){if(s.noLeftoversInUrl(e,n,o))return Object(de.of)(new We([],{}));throw new er(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,r){return 0===e.length&&!t.children[r]},t.prototype.expandSegmentAgainstRoute=function(t,e,r,n,o,i,s){return Y(n)!==i?F(e):void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,e,n,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,n,o,i):F(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,r,n,o,i){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,n,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,n,o,i)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,r,n){var o=this,i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?L(i):_e.mergeMap.call(this.lineralizeSegments(r,i),function(r){var i=new We(r,{});return o.expandSegment(t,i,e,r,n,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,r,n,o,i){var s=this,a=J(e,n,o),u=a.matched,c=a.consumedSegments,l=a.lastChild,h=a.positionalParamSegments;if(!u)return F(e);var p=this.applyRedirectCommands(c,n.redirectTo,h);return n.redirectTo.startsWith("/")?L(p):_e.mergeMap.call(this.lineralizeSegments(n,p),function(n){return s.expandSegment(t,e,r,n.concat(o.slice(l)),i,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,r,n){var o=this;if("**"===r.path)return r.loadChildren?be.map.call(this.configLoader.load(t.injector,r),function(t){return r._loadedConfig=t,new We(n,{})}):Object(de.of)(new We(n,{}));var i=J(e,r,n),s=i.matched,a=i.consumedSegments,u=i.lastChild;if(!s)return F(e);var c=n.slice(u),l=this.getChildConfig(t,r);return _e.mergeMap.call(l,function(t){var r=t.module,n=t.routes,i=V(e,a,c,n),s=i.segmentGroup,u=i.slicedSegments;if(0===u.length&&s.hasChildren()){var l=o.expandChildren(r,n,s);return be.map.call(l,function(t){return new We(a,t)})}if(0===n.length&&0===u.length)return Object(de.of)(new We(a,{}));var h=o.expandSegment(r,s,n,u,ze,!0);return be.map.call(h,function(t){return new We(a.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var r=this;return e.children?Object(de.of)(new Je(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(de.of)(e._loadedConfig):_e.mergeMap.call(H(t.injector,e),function(n){return n?be.map.call(r.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):z(e)}):Object(de.of)(new Je([],t))},t.prototype.lineralizeSegments=function(t,e){for(var r=[],n=e.root;;){if(r=r.concat(n.segments),0===n.numberOfChildren)return Object(de.of)(r);if(n.numberOfChildren>1||!n.children[ze])return q(t.redirectTo);n=n.children[ze]}},t.prototype.applyRedirectCommands=function(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,r,n){var o=this.createSegmentGroup(t,e.root,r,n);return new Ve(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var r={};return d(t,function(t,n){if("string"==typeof t&&t.startsWith(":")){var o=t.substring(1);r[n]=e[o]}else r[n]=t}),r},t.prototype.createSegmentGroup=function(t,e,r,n){var o=this,i=this.createSegments(t,e.segments,r,n),s={};return d(e.children,function(e,i){s[i]=o.createSegmentGroup(t,e,r,n)}),new We(i,s)},t.prototype.createSegments=function(t,e,r,n){var o=this;return e.map(function(e){return e.path.startsWith(":")?o.findPosParam(t,e,n):o.findOrReturn(e,r)})},t.prototype.findPosParam=function(t,e,r){var n=r[e.path.substring(1)];if(!n)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return n},t.prototype.findOrReturn=function(t,e){for(var r=0,n=0,o=e;n<o.length;n++){var i=o[n];if(i.path===t.path)return e.splice(r),i;r++}return t},t}(),or=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=Z(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=Z(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=tt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return tt(t,this._root).map(function(t){return t.value})},t}(),ir=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}(),sr=function(t){function e(e,r){var n=t.call(this,e)||this;return n.snapshot=r,ot(n,e),n}return ue.a(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(or),ar=function(){function t(t,e,r,n,o,i,s,a){this.url=t,this.params=e,this.queryParams=r,this.fragment=n,this.data=o,this.outlet=i,this.component=s,this._futureSnapshot=a}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=be.map.call(this.params,function(t){return n(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=be.map.call(this.queryParams,function(t){return n(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}(),ur=function(){function t(t,e,r,n,o,i,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=n,this.data=o,this.outlet=i,this.component=s,this._routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=n(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=n(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this._routeConfig?this._routeConfig.path:"")+"')"},t}(),cr=function(t){function e(e,r){var n=t.call(this,r)||this;return n.url=e,ot(n,r),n}return ue.a(e,t),e.prototype.toString=function(){return it(this._root)},e}(or),lr=function(){function t(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&dt(r[0]))throw new Error("Root segment cannot have matrix parameters");var n=r.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(n&&n!==f(r))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),hr=function(){function t(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}return t}(),pr=function(){function t(){}return t}(),fr=function(){function t(t,e,r,n){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=n}return t.prototype.recognize=function(){try{var t=Nt(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,ze),r=new ur([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},ze,this.rootComponentType,null,this.urlTree.root,-1,{}),n=new ir(r,e),o=new cr(this.url,n);return this.inheritParamsAndData(o._root),Object(de.of)(o)}catch(t){return new we.Observable(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,r=t.value,n=nt(r);r.params=Object.freeze(n.params),r.data=Object.freeze(n.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)},t.prototype.processChildren=function(t,e){var r=this,n=R(e,function(e,n){return r.processSegmentGroup(t,e,n)});return It(n),Et(n),n},t.prototype.processSegment=function(t,e,r,n){for(var o=0,i=t;o<i.length;o++){var s=i[o];try{return this.processSegmentAgainstRoute(s,e,r,n)}catch(t){if(!(t instanceof pr))throw t}}if(this.noLeftoversInUrl(e,r,n))return[];throw new pr},t.prototype.noLeftoversInUrl=function(t,e,r){return 0===e.length&&!t.children[r]},t.prototype.processSegmentAgainstRoute=function(t,e,r,n){if(t.redirectTo)throw new pr;if((t.outlet||ze)!==n)throw new pr;if("**"===t.path){var o=r.length>0?f(r).parameters:{},i=new ur(r,o,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,Ht(t),n,t.component,t,Ut(e),Mt(e)+r.length,Jt(t));return[new ir(i,[])]}var s=Tt(e,t,r),a=s.consumedSegments,u=s.parameters,c=s.lastChild,l=r.slice(c),h=At(t),p=Nt(e,a,l,h),d=p.segmentGroup,v=p.slicedSegments,m=new ur(a,u,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,Ht(t),n,t.component,t,Ut(e),Mt(e)+a.length,Jt(t));if(0===v.length&&d.hasChildren()){var y=this.processChildren(h,d);return[new ir(m,y)]}if(0===h.length&&0===v.length)return[new ir(m,[])];var g=this.processSegment(h,d,v,ze);return[new ir(m,g)]},t}(),dr=function(){function t(){}return t.prototype.shouldDetach=function(t){},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){},t.prototype.retrieve=function(t){},t.prototype.shouldReuseRoute=function(t,e){},t}(),vr=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),mr=new le.D("ROUTES"),yr=function(){function t(t,e,r,n){this.loader=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=n}return t.prototype.load=function(t,e){var r=this;this.onLoadStartListener&&this.onLoadStartListener(e);var n=this.loadModuleFactory(e.loadChildren);return be.map.call(n,function(n){r.onLoadEndListener&&r.onLoadEndListener(e);var o=n.create(t);return new Je(p(o.injector.get(mr)),o)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(Ce.fromPromise)(this.loader.load(t)):_e.mergeMap.call(y(t()),function(t){return t instanceof le.N?Object(de.of)(t):Object(Ce.fromPromise)(e.compiler.compileModuleAsync(t))})},t}(),gr=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){},t.prototype.extract=function(t){},t.prototype.merge=function(t,e){},t}(),br=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}(),_r=function(){function t(t,e,r,n,o,i,s,a){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=r,this.location=n,this.config=a,this.navigations=new he.BehaviorSubject(null),this.routerEvents=new pe.Subject,this.navigationId=0,this.errorHandler=Vt,this.navigated=!1,this.hooks={beforePreactivation:Wt,afterPreactivation:Wt},this.urlHandlingStrategy=new br,this.routeReuseStrategy=new vr;var c=function(t){return u.triggerEvent(new Me(t))},l=function(t){return u.triggerEvent(new Ne(t))};this.ngModule=o.get(le.P),this.resetConfig(a),this.currentUrlTree=g(),this.rawUrlTree=this.currentUrlTree,this.configLoader=new yr(i,s,c,l),this.currentRouterState=et(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.currentRouterState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var r=t.urlSerializer.parse(e.url),n="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(r,n,{replaceUrl:!0})},0)})))},Object.defineProperty(t.prototype,"routerState",{get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.routerEvents.next(t)},t.prototype.resetConfig=function(t){a(t),this.config=t,this.navigated=!1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var r=e.relativeTo,n=e.queryParams,o=e.fragment,i=e.preserveQueryParams,s=e.queryParamsHandling,a=e.preserveFragment;Object(le._26)()&&i&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=r||this.routerState.root,c=a?this.currentUrlTree.fragment:o,l=null;if(s)switch(s){case"merge":l=Object.assign({},this.currentUrlTree.queryParams,n);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=n||null}else l=i?this.currentUrlTree.queryParams:n||null;return ft(u,this.currentUrlTree,t,l,c)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var r=t instanceof Ve?t:this.parseUrl(t),n=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),Xt(t),"object"==typeof e.queryParams&&null!==e.queryParams&&(e.queryParams=this.removeEmptyProps(e.queryParams)),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof Ve)return b(this.currentUrlTree,t,e);var r=this.urlSerializer.parse(t);return b(this.currentUrlTree,r,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,r){var n=t[r];return null!==n&&void 0!==n&&(e[r]=n),e},{})},t.prototype.processNavigations=function(){var t=this;ve.concatMap.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):Object(de.of)(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,r){var n=this.navigations.value;if(n&&"imperative"!==e&&"imperative"===n.source&&n.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(n&&"hashchange"==e&&"popstate"===n.source&&n.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,i=null,s=new Promise(function(t,e){o=t,i=e}),a=++this.navigationId;return this.navigations.next({id:a,source:e,rawUrl:t,extras:r,resolve:o,reject:i,promise:s}),s.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,r=t.id,n=t.rawUrl,o=t.extras,i=t.resolve,s=t.reject,a=this.urlHandlingStrategy.extract(n),u=!this.navigated||a.toString()!==this.currentUrlTree.toString();u&&this.urlHandlingStrategy.shouldProcessUrl(n)?(this.routerEvents.next(new Ee(r,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,n,!!o.skipLocationChange,!!o.replaceUrl,r,null)}).then(i,s)):u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.routerEvents.next(new Ee(r,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,n,!1,!1,r,et(a,e.rootComponentType).snapshot)}).then(i,s)):(this.rawUrlTree=n,i(null))},t.prototype.runNavigate=function(t,e,r,n,o,s){var a=this;return o!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new Te(o,this.serializeUrl(t),"Navigation ID "+o+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(u,c){var l;if(s)l=Object(de.of)({appliedUrl:t,snapshot:s});else{var h=a.ngModule.injector,p=B(h,a.configLoader,a.urlSerializer,t,a.config);l=_e.mergeMap.call(p,function(e){return be.map.call(kt(a.rootComponentType,a.config,e,a.serializeUrl(e)),function(r){return a.routerEvents.next(new Ue(o,a.serializeUrl(t),a.serializeUrl(e),r)),{appliedUrl:e,snapshot:r}})})}var f,d,v=_e.mergeMap.call(l,function(t){return be.map.call(a.hooks.beforePreactivation(t.snapshot),function(){return t})}),m=be.map.call(v,function(t){var e=t.appliedUrl,r=t.snapshot,n=a.ngModule.injector;return f=new Sr(r,a.currentRouterState.snapshot,n),f.traverse(a.rootContexts),{appliedUrl:e,snapshot:r}}),y=_e.mergeMap.call(m,function(e){var r=e.appliedUrl,n=e.snapshot;return a.navigationId!==o?Object(de.of)(!1):(a.triggerEvent(new De(o,a.serializeUrl(t),r,n)),be.map.call(f.checkGuards(),function(e){return a.triggerEvent(new Fe(o,a.serializeUrl(t),r,n,e)),{appliedUrl:r,snapshot:n,shouldActivate:e}}))}),g=_e.mergeMap.call(y,function(e){return a.navigationId!==o?Object(de.of)(!1):e.shouldActivate&&f.isActivating()?(a.triggerEvent(new Le(o,a.serializeUrl(t),e.appliedUrl,e.snapshot)),be.map.call(f.resolveData(),function(){return a.triggerEvent(new qe(o,a.serializeUrl(t),e.appliedUrl,e.snapshot)),e})):Object(de.of)(e)}),b=_e.mergeMap.call(g,function(t){return be.map.call(a.hooks.afterPreactivation(t.snapshot),function(){return t})}),_=be.map.call(b,function(t){var e=t.appliedUrl,r=t.snapshot,n=t.shouldActivate;if(n){return{appliedUrl:e,state:ut(a.routeReuseStrategy,r,a.currentRouterState),shouldActivate:n}}return{appliedUrl:e,state:null,shouldActivate:n}}),j=a.currentRouterState,w=a.currentUrlTree;_.forEach(function(t){var i=t.appliedUrl,s=t.state;if(!t.shouldActivate||o!==a.navigationId)return void(d=!1);if(a.currentUrlTree=i,a.rawUrlTree=a.urlHandlingStrategy.merge(a.currentUrlTree,e),a.currentRouterState=s,!r){var u=a.urlSerializer.serialize(a.rawUrlTree);a.location.isCurrentPathEqualTo(u)||n?a.location.replaceState(u):a.location.go(u)}new Or(a.routeReuseStrategy,s,j).activate(a.rootContexts),d=!0}).then(function(){d?(a.navigated=!0,a.routerEvents.next(new Ae(o,a.serializeUrl(t),a.serializeUrl(a.currentUrlTree))),u(!0)):(a.resetUrlToCurrentUrlTree(),a.routerEvents.next(new Te(o,a.serializeUrl(t),"")),u(!1))},function(r){if(i(r))a.resetUrlToCurrentUrlTree(),a.navigated=!0,a.routerEvents.next(new Te(o,a.serializeUrl(t),r.message)),u(!1);else{a.routerEvents.next(new Ie(o,a.serializeUrl(t),r));try{u(a.errorHandler(r))}catch(t){c(t)}}a.currentRouterState=j,a.currentUrlTree=w,a.rawUrlTree=a.urlHandlingStrategy.merge(a.currentUrlTree,e),a.location.replaceState(a.serializeUrl(a.rawUrlTree))})})},t.prototype.resetUrlToCurrentUrlTree=function(){var t=this.urlSerializer.serialize(this.rawUrlTree);this.location.replaceState(t)},t}(),jr=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t}(),wr=function(){function t(t,e){this.component=t,this.route=e}return t}(),Sr=function(){function t(t,e,r){this.future=t,this.curr=e,this.moduleInjector=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.traverse=function(t){var e=this.future._root,r=this.curr?this.curr._root:null;this.traverseChildRoutes(e,r,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(!this.isDeactivating()&&!this.isActivating())return Object(de.of)(!0);var e=this.runCanDeactivateChecks();return _e.mergeMap.call(e,function(e){return e?t.runCanActivateChecks():Object(de.of)(!1)})},t.prototype.resolveData=function(){var t=this;if(!this.isActivating())return Object(de.of)(null);var e=Object(fe.from)(this.canActivateChecks),r=ve.concatMap.call(e,function(e){return t.runResolve(e.route)});return je.reduce.call(r,function(t,e){return t})},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.traverseChildRoutes=function(t,e,r,n){var o=this,i=Kt(e);t.children.forEach(function(t){o.traverseRoutes(t,i[t.value.outlet],r,n.concat([t.value])),delete i[t.value.outlet]}),d(i,function(t,e){return o.deactivateRouteAndItsChildren(t,r.getContext(e))})},t.prototype.traverseRoutes=function(t,e,r,n){var o=t.value,i=e?e.value:null,s=r?r.getContext(t.value.outlet):null;if(i&&o._routeConfig===i._routeConfig){var a=this.shouldRunGuardsAndResolvers(i,o,o._routeConfig.runGuardsAndResolvers);if(a?this.canActivateChecks.push(new jr(n)):(o.data=i.data,o._resolvedData=i._resolvedData),o.component?this.traverseChildRoutes(t,e,s?s.children:null,n):this.traverseChildRoutes(t,e,r,n),a){var u=s.outlet;this.canDeactivateChecks.push(new wr(u.component,i))}}else i&&this.deactivateRouteAndItsChildren(e,s),this.canActivateChecks.push(new jr(n)),o.component?this.traverseChildRoutes(t,null,s?s.children:null,n):this.traverseChildRoutes(t,null,r,n)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,r){switch(r){case"always":return!0;case"paramsOrQueryParamsChange":return!at(t,e)||!h(t.queryParams,e.queryParams);case"paramsChange":default:return!at(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var r=this,n=Kt(t),o=t.value;d(n,function(t,n){o.component?e?r.deactivateRouteAndItsChildren(t,e.children.getContext(n)):r.deactivateRouteAndItsChildren(t,null):r.deactivateRouteAndItsChildren(t,e)}),o.component&&e&&e.outlet&&e.outlet.isActivated?this.canDeactivateChecks.push(new wr(e.outlet.component,o)):this.canDeactivateChecks.push(new wr(null,o))},t.prototype.runCanDeactivateChecks=function(){var t=this,e=Object(fe.from)(this.canDeactivateChecks),r=_e.mergeMap.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return me.every.call(r,function(t){return!0===t})},t.prototype.runCanActivateChecks=function(){var t=this,e=Object(fe.from)(this.canActivateChecks),r=ve.concatMap.call(e,function(e){return m(Object(fe.from)([t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return me.every.call(r,function(t){return!0===t})},t.prototype.runCanActivate=function(t){var e=this,r=t._routeConfig?t._routeConfig.canActivate:null;return r&&0!==r.length?m(be.map.call(Object(fe.from)(r),function(r){var n,o=e.getToken(r,t);return n=y(o.canActivate?o.canActivate(t,e.future):o(t,e.future)),ye.first.call(n)})):Object(de.of)(!0)},t.prototype.runCanActivateChild=function(t){var e=this,r=t[t.length-1],n=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return m(be.map.call(Object(fe.from)(n),function(t){return m(be.map.call(Object(fe.from)(t.guards),function(n){var o,i=e.getToken(n,t.node);return o=y(i.canActivateChild?i.canActivateChild(r,e.future):i(r,e.future)),ye.first.call(o)}))}))},t.prototype.extractCanActivateChild=function(t){var e=t._routeConfig?t._routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var r=this,n=e&&e._routeConfig?e._routeConfig.canDeactivate:null;if(!n||0===n.length)return Object(de.of)(!0);var o=_e.mergeMap.call(Object(fe.from)(n),function(n){var o,i=r.getToken(n,e);return o=y(i.canDeactivate?i.canDeactivate(t,e,r.curr,r.future):i(t,e,r.curr,r.future)),ye.first.call(o)});return me.every.call(o,function(t){return!0===t})},t.prototype.runResolve=function(t){var e=t._resolve;return be.map.call(this.resolveNode(e,t),function(e){return t._resolvedData=e,t.data=Object.assign({},t.data,nt(t).resolve),null})},t.prototype.resolveNode=function(t,e){var r=this,n=Object.keys(t);if(0===n.length)return Object(de.of)({});if(1===n.length){var o=n[0];return be.map.call(this.getResolver(t[o],e),function(t){return e={},e[o]=t,e;var e})}var i={},s=_e.mergeMap.call(Object(fe.from)(n),function(n){return be.map.call(r.getResolver(t[n],e),function(t){return i[n]=t,t})});return be.map.call(ge.last.call(s),function(){return i})},t.prototype.getResolver=function(t,e){var r=this.getToken(t,e);return y(r.resolve?r.resolve(e,this.future):r(e,this.future))},t.prototype.getToken=function(t,e){var r=Qt(e);return(r?r.module.injector:this.moduleInjector).get(t)},t}(),Or=function(){function t(t,e,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=r}return t.prototype.activate=function(t){var e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),st(this.futureState.root),this.activateChildRoutes(e,r,t)},t.prototype.deactivateChildRoutes=function(t,e,r){var n=this,o=Kt(e);t.children.forEach(function(t){var e=t.value.outlet;n.deactivateRoutes(t,o[e],r),delete o[e]}),d(o,function(t,e){n.deactivateRouteAndItsChildren(t,r)})},t.prototype.deactivateRoutes=function(t,e,r){var n=t.value,o=e?e.value:null;if(n===o)if(n.component){var i=r.getContext(n.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var r=e.getContext(t.value.outlet);if(r&&r.outlet){var n=r.outlet.detach(),o=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:n,route:t,contexts:o})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var r=this,n=e.getContext(t.value.outlet);if(n){var o=Kt(t),i=t.value.component?n.children:e;d(o,function(t,e){return r.deactivateRouteAndItsChildren(t,i)}),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,r){var n=this,o=Kt(e);t.children.forEach(function(t){n.activateRoutes(t,o[t.value.outlet],r)})},t.prototype.activateRoutes=function(t,e,r){var n=t.value,o=e?e.value:null;if(st(n),n===o)if(n.component){var i=r.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,r);else if(n.component){var i=r.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){var s=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),i.children.onOutletReAttached(s.contexts),i.attachRef=s.componentRef,i.route=s.route.value,i.outlet&&i.outlet.attach(s.componentRef,s.route.value),Gt(s.route)}else{var a=$t(n.snapshot),u=a?a.module.componentFactoryResolver:null;i.route=n,i.resolver=u,i.outlet&&i.outlet.activateWith(n,u),this.activateChildRoutes(t,null,i.children)}}else this.activateChildRoutes(t,null,r)},t}(),xr=function(){function t(t,e,r,n,o){this.router=t,this.route=e,this.commands=[],null==r&&n.setAttribute(o.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(le._26)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:Yt(this.skipLocationChange),replaceUrl:Yt(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Yt(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Yt(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();xr.decorators=[{type:le.u,args:[{selector:":not(a)[routerLink]"}]}],xr.ctorParameters=function(){return[{type:_r},{type:ar},{type:void 0,decorators:[{type:le.h,args:["tabindex"]}]},{type:le._2},{type:le.v}]},xr.propDecorators={queryParams:[{type:le.F}],fragment:[{type:le.F}],queryParamsHandling:[{type:le.F}],preserveFragment:[{type:le.F}],skipLocationChange:[{type:le.F}],replaceUrl:[{type:le.F}],routerLink:[{type:le.F}],preserveQueryParams:[{type:le.F}],onClick:[{type:le.A,args:["click"]}]};var Cr=function(){function t(t,e,r){var n=this;this.router=t,this.route=e,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Ae&&n.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(le._26)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,r,n){if(0!==t||e||r||n)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:Yt(this.skipLocationChange),replaceUrl:Yt(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,o),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Yt(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Yt(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();Cr.decorators=[{type:le.u,args:[{selector:"a[routerLink]"}]}],Cr.ctorParameters=function(){return[{type:_r},{type:ar},{type:ce.g}]},Cr.propDecorators={target:[{type:le.z,args:["attr.target"]},{type:le.F}],queryParams:[{type:le.F}],fragment:[{type:le.F}],queryParamsHandling:[{type:le.F}],preserveFragment:[{type:le.F}],skipLocationChange:[{type:le.F}],replaceUrl:[{type:le.F}],href:[{type:le.z}],routerLink:[{type:le.F}],preserveQueryParams:[{type:le.F}],onClick:[{type:le.A,args:["click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Rr=function(){function t(t,e,r,n){var o=this;this.router=t,this.element=e,this.renderer=r,this.cdr=n,this.classes=[],this.active=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof Ae&&o.update()})}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this.active},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;if(this.links&&this.linksWithHrefs&&this.router.navigated){var e=this.hasActiveLinks();this.active!==e&&(this.classes.forEach(function(r){e?t.renderer.addClass(t.element.nativeElement,r):t.renderer.removeClass(t.element.nativeElement,r)}),Promise.resolve(e).then(function(e){return t.active=e}))}},t.prototype.isLinkActive=function(t){var e=this;return function(r){return t.isActive(r.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t}();Rr.decorators=[{type:le.u,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],Rr.ctorParameters=function(){return[{type:_r},{type:le.v},{type:le._2},{type:le.l}]},Rr.propDecorators={links:[{type:le.t,args:[xr,{descendants:!0}]}],linksWithHrefs:[{type:le.t,args:[Cr,{descendants:!0}]}],routerLinkActiveOptions:[{type:le.F}],routerLinkActive:[{type:le.F}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Pr=function(){function t(){this.outlet=null,this.route=null,this.resolver=null,this.children=new kr,this.attachRef=null}return t}(),kr=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Pr,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),Er=function(){function t(t,e,r,n,o){this.parentContexts=t,this.location=e,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new le.x,this.deactivateEvents=new le.x,this.name=n||ze,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"locationInjector",{get:function(){return this.location.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationFactoryResolver",{get:function(){return this.resolver},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var r=t._futureSnapshot,n=r._routeConfig.component;e=e||this.resolver;var o=e.resolveComponentFactory(n),i=this.parentContexts.getOrCreateContext(this.name).children,s=new Ar(t,i,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}();Er.decorators=[{type:le.u,args:[{selector:"router-outlet",exportAs:"outlet"}]}],Er.ctorParameters=function(){return[{type:kr},{type:le._18},{type:le.q},{type:void 0,decorators:[{type:le.h,args:["name"]}]},{type:le.l}]},Er.propDecorators={activateEvents:[{type:le.T,args:["activate"]}],deactivateEvents:[{type:le.T,args:["deactivate"]}]};var Ar=function(){function t(t,e,r){this.route=t,this.childContexts=e,this.parent=r}return t.prototype.get=function(t,e){return t===ar?this.route:t===kr?this.childContexts:this.parent.get(t,e)},t}(),Tr=function(){function t(){}return t.prototype.preload=function(t,e){},t}(),Ir=function(){function t(){}return t.prototype.preload=function(t,e){return Se._catch.call(e(),function(){return Object(de.of)(null)})},t}(),Ur=function(){function t(){}return t.prototype.preload=function(t,e){return Object(de.of)(null)},t}(),Mr=function(){function t(t,e,r,n,o){this.router=t,this.injector=n,this.preloadingStrategy=o;var i=function(e){return t.triggerEvent(new Me(e))},s=function(e){return t.triggerEvent(new Ne(e))};this.loader=new yr(e,r,i,s)}return t.prototype.setUpPreloading=function(){var t=this,e=ke.filter.call(this.router.events,function(t){return t instanceof Ae});this.subscription=ve.concatMap.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(le.P);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var r=[],n=0,o=e;n<o.length;n++){var i=o[n];if(i.loadChildren&&!i.canLoad&&i._loadedConfig){var s=i._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else i.loadChildren&&!i.canLoad?r.push(this.preloadConfig(t,i)):i.children&&r.push(this.processRoutes(t,i.children))}return Re.mergeAll.call(Object(fe.from)(r))},t.prototype.preloadConfig=function(t,e){var r=this;return this.preloadingStrategy.preload(e,function(){var n=r.loader.load(t.injector,e);return _e.mergeMap.call(n,function(t){return e._loadedConfig=t,r.processRoutes(t.module,t.routes)})})},t}();Mr.decorators=[{type:le.C}],Mr.ctorParameters=function(){return[{type:_r},{type:le.O},{type:le.m},{type:le.E},{type:Tr}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Nr=[Er,xr,Cr,Rr],Dr=new le.D("ROUTER_CONFIGURATION"),Fr=new le.D("ROUTER_FORROOT_GUARD"),Lr=[ce.f,{provide:$e,useClass:Qe},{provide:_r,useFactory:ne,deps:[le.g,$e,kr,ce.f,le.E,le.O,le.m,mr,Dr,[gr,new le.S],[dr,new le.S]]},kr,{provide:ar,useFactory:oe,deps:[_r]},{provide:le.O,useClass:le._9},Mr,Ur,Ir,{provide:Dr,useValue:{enableTracing:!1}}],qr=function(){function t(t,e){}return t.forRoot=function(e,r){return{ngModule:t,providers:[Lr,re(e),{provide:Fr,useFactory:ee,deps:[[_r,new le.S,new le._8]]},{provide:Dr,useValue:r||{}},{provide:ce.g,useFactory:te,deps:[ce.i,[new le.B(ce.a),new le.S],Dr]},{provide:Tr,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Ur},{provide:le.Q,multi:!0,useFactory:Zt},ae()]}},t.forChild=function(e){return{ngModule:t,providers:[re(e)]}},t}();qr.decorators=[{type:le.M,args:[{declarations:Nr,exports:Nr}]}],qr.ctorParameters=function(){return[{type:void 0,decorators:[{type:le.S},{type:le.B,args:[Fr]}]},{type:_r,decorators:[{type:le.S}]}]};var zr=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new pe.Subject}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(ce.e,Promise.resolve(null)).then(function(){var e=null,r=new Promise(function(t){return e=t}),n=t.injector.get(_r),o=t.injector.get(Dr);if(t.isLegacyDisabled(o)||t.isLegacyEnabled(o))e(!0);else if("disabled"===o.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '"+o.initialNavigation+"'");n.hooks.afterPreactivation=function(){return t.initNavigation?Object(de.of)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},n.initialNavigation()}return r})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Dr),r=this.injector.get(Mr),n=this.injector.get(_r),o=this.injector.get(le.g);t===o.components[0]&&(this.isLegacyEnabled(e)?n.initialNavigation():this.isLegacyDisabled(e)&&n.setUpLocationChangeListener(),r.setUpPreloading(),n.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();zr.decorators=[{type:le.C}],zr.ctorParameters=function(){return[{type:le.E}]};var Br=new le.D("Router Initializer");new le._15("4.4.5")},'./node_modules/css-loader/index.js!./node_modules/postcss-loader/index.js!./node_modules/sass-loader/lib/loader.js?{"sourceMap":true}!./demo/app.component.scss':function(t,e,r){e=t.exports=r("./node_modules/css-loader/lib/css-base.js")(void 0),e.push([t.i,"",""])},"./node_modules/css-loader/lib/css-base.js":function(t,e){function r(t,e){var r=t[1]||"",o=t[3];if(!o)return r;if(e&&"function"==typeof btoa){var i=n(o);return[r].concat(o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"})).concat([i]).join("\n")}return[r].join("\n")}function n(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=r(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(n[i]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),e.push(s))}},e}},"./node_modules/localforage/dist/localforage.js":function(t,e,r){(function(e){var r,r;/*!
    localForage -- Offline Storage, Improved
    Version 1.5.2
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
!function(e){t.exports=e()}(function(){return function t(e,n,o){function i(a,u){if(!n[a]){if(!e[a]){var c="function"==typeof r&&r;if(!u&&c)return r(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var h=n[a]={exports:{}};e[a][0].call(h.exports,function(t){var r=e[a][1][t];return i(r||t)},h,h.exports,t,e,n,o)}return n[a].exports}for(var s="function"==typeof r&&r,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,r,n){(function(t){"use strict";function e(){l=!0;for(var t,e,r=h.length;r;){for(e=h,h=[],t=-1;++t<r;)e[t]();r=h.length}l=!1}function n(t){1!==h.push(t)||l||o()}var o,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var s=0,a=new i(e),u=t.document.createTextNode("");a.observe(u,{characterData:!0}),o=function(){u.data=s=++s%2}}else if(t.setImmediate||void 0===t.MessageChannel)o="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var r=t.document.createElement("script");r.onreadystatechange=function(){e(),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},t.document.documentElement.appendChild(r)}:function(){setTimeout(e,0)};else{var c=new t.MessageChannel;c.port1.onmessage=e,o=function(){c.port2.postMessage(0)}}var l,h=[];r.exports=n}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,r){"use strict";function n(){}function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,t!==n&&u(this,t)}function i(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function s(t,e,r){d(function(){var n;try{n=e(r)}catch(e){return v.reject(t,e)}n===t?v.reject(t,new TypeError("Cannot resolve promise with itself")):v.resolve(t,n)})}function a(t){var e=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof e)return function(){e.apply(t,arguments)}}function u(t,e){function r(e){i||(i=!0,v.reject(t,e))}function n(e){i||(i=!0,v.resolve(t,e))}function o(){e(n,r)}var i=!1,s=c(o);"error"===s.status&&r(s.value)}function c(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}function l(t){return t instanceof this?t:v.resolve(new this(n),t)}function h(t){var e=new this(n);return v.reject(e,t)}function p(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);for(var i=new Array(r),s=0,a=-1,u=new this(n);++a<r;)!function(t,n){function a(t){i[n]=t,++s!==r||o||(o=!0,v.resolve(u,i))}e.resolve(t).then(a,function(t){o||(o=!0,v.reject(u,t))})}(t[a],a);return u}function f(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);for(var i=-1,s=new this(n);++i<r;)!function(t){e.resolve(t).then(function(t){o||(o=!0,v.resolve(s,t))},function(t){o||(o=!0,v.reject(s,t))})}(t[i]);return s}var d=t(1),v={},m=["REJECTED"],y=["FULFILLED"],g=["PENDING"];e.exports=r=o,o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if("function"!=typeof t&&this.state===y||"function"!=typeof e&&this.state===m)return this;var r=new this.constructor(n);if(this.state!==g){s(r,this.state===y?t:e,this.outcome)}else this.queue.push(new i(r,t,e));return r},i.prototype.callFulfilled=function(t){v.resolve(this.promise,t)},i.prototype.otherCallFulfilled=function(t){s(this.promise,this.onFulfilled,t)},i.prototype.callRejected=function(t){v.reject(this.promise,t)},i.prototype.otherCallRejected=function(t){s(this.promise,this.onRejected,t)},v.resolve=function(t,e){var r=c(a,e);if("error"===r.status)return v.reject(t,r.value);var n=r.value;if(n)u(t,n);else{t.state=y,t.outcome=e;for(var o=-1,i=t.queue.length;++o<i;)t.queue[o].callFulfilled(e)}return t},v.reject=function(t,e){t.state=m,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},r.resolve=l,r.reject=h,r.all=p,r.race=f},{1:1}],3:[function(t,r,n){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,n=new r,o=0;o<t.length;o+=1)n.append(t[o]);return n.getBlob(e.type)}}function i(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function s(t,e,r){"function"==typeof e&&t.then(e),"function"==typeof r&&t.catch(r)}function a(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function u(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),o=0;o<e;o++)n[o]=t.charCodeAt(o);return r}function c(t){return new ut(function(e){var r=t.transaction(ct,pt),n=o([""]);r.objectStore(ct).put(n,"key"),r.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},r.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);e(r||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}function l(t){return"boolean"==typeof st?ut.resolve(st):c(t).then(function(t){return st=t})}function h(t){var e=at[t.name],r={};r.promise=new ut(function(t){r.resolve=t}),e.deferredOperations.push(r),e.dbReady?e.dbReady=e.dbReady.then(function(){return r.promise}):e.dbReady=r.promise}function p(t){var e=at[t.name],r=e.deferredOperations.pop();r&&r.resolve()}function f(t,e){var r=at[t.name],n=r.deferredOperations.pop();n&&n.reject(e)}function d(t,e){return new ut(function(r,n){if(t.db){if(!e)return r(t.db);h(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var i=it.open.apply(it,o);e&&(i.onupgradeneeded=function(e){var r=i.result;try{r.createObjectStore(t.storeName),e.oldVersion<=1&&r.createObjectStore(ct)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),i.onerror=function(t){t.preventDefault(),n(i.error)},i.onsuccess=function(){r(i.result),p(t)}})}function v(t){return d(t,!1)}function m(t){return d(t,!0)}function y(t,e){if(!t.db)return!0;var r=!t.db.objectStoreNames.contains(t.storeName),n=t.version<t.db.version,o=t.version>t.db.version;if(n&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||r){if(r){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function g(t){return new ut(function(e,r){var n=new FileReader;n.onerror=r,n.onloadend=function(r){var n=btoa(r.target.result||"");e({__local_forage_encoded_blob:!0,data:n,type:t.type})},n.readAsBinaryString(t)})}function b(t){return o([u(atob(t.data))],{type:t.type})}function _(t){return t&&t.__local_forage_encoded_blob}function j(t){var e=this,r=e._initReady().then(function(){var t=at[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return s(r,t,t),r}function w(t){h(t);for(var e=at[t.name],r=e.forages,n=0;n<r.length;n++)r[n]._dbInfo.db&&(r[n]._dbInfo.db.close(),r[n]._dbInfo.db=null);return d(t,!1).then(function(t){for(var e=0;e<r.length;e++)r[e]._dbInfo.db=t}).catch(function(e){throw f(t,e),e})}function S(t,e,r){try{var n=t.db.transaction(t.storeName,e);r(null,n)}catch(n){if(!t.db||"InvalidStateError"===n.name)return w(t).then(function(){var n=t.db.transaction(t.storeName,e);r(null,n)});r(n)}}function O(t){function e(){return ut.resolve()}var r=this,n={db:null};if(t)for(var o in t)n[o]=t[o];at||(at={});var i=at[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},at[n.name]=i),i.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=j);for(var s=[],a=0;a<i.forages.length;a++){var u=i.forages[a];u!==r&&s.push(u._initReady().catch(e))}var c=i.forages.slice(0);return ut.all(s).then(function(){return n.db=i.db,v(n)}).then(function(t){return n.db=t,y(n,r._defaultConfig.version)?m(n):t}).then(function(t){n.db=i.db=t,r._dbInfo=n;for(var e=0;e<c.length;e++){var o=c[e];o!==r&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}})}function x(t,e){var r=this;t=a(t);var n=new ut(function(e,n){r.ready().then(function(){S(r._dbInfo,ht,function(o,i){if(o)return n(o);try{var s=i.objectStore(r._dbInfo.storeName),a=s.get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),_(t)&&(t=b(t)),e(t)},a.onerror=function(){n(a.error)}}catch(t){n(t)}})}).catch(n)});return i(n,e),n}function C(t,e){var r=this,n=new ut(function(e,n){r.ready().then(function(){S(r._dbInfo,ht,function(o,i){if(o)return n(o);try{var s=i.objectStore(r._dbInfo.storeName),a=s.openCursor(),u=1;a.onsuccess=function(){var r=a.result;if(r){var n=r.value;_(n)&&(n=b(n));var o=t(n,r.key,u++);void 0!==o?e(o):r.continue()}else e()},a.onerror=function(){n(a.error)}}catch(t){n(t)}})}).catch(n)});return i(n,e),n}function R(t,e,r){var n=this;t=a(t);var o=new ut(function(r,o){var i;n.ready().then(function(){return i=n._dbInfo,"[object Blob]"===lt.call(e)?l(i.db).then(function(t){return t?e:g(e)}):e}).then(function(e){S(n._dbInfo,pt,function(i,s){if(i)return o(i);try{var a=s.objectStore(n._dbInfo.storeName),u=a.put(e,t);null===e&&(e=void 0),s.oncomplete=function(){void 0===e&&(e=null),r(e)},s.onabort=s.onerror=function(){var t=u.error?u.error:u.transaction.error;o(t)}}catch(t){o(t)}})}).catch(o)});return i(o,r),o}function P(t,e){var r=this;t=a(t);var n=new ut(function(e,n){r.ready().then(function(){S(r._dbInfo,pt,function(o,i){if(o)return n(o);try{var s=i.objectStore(r._dbInfo.storeName),a=s.delete(t);i.oncomplete=function(){e()},i.onerror=function(){n(a.error)},i.onabort=function(){var t=a.error?a.error:a.transaction.error;n(t)}}catch(t){n(t)}})}).catch(n)});return i(n,e),n}function k(t){var e=this,r=new ut(function(t,r){e.ready().then(function(){S(e._dbInfo,pt,function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName),s=i.clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=s.error?s.error:s.transaction.error;r(t)}}catch(t){r(t)}})}).catch(r)});return i(r,t),r}function E(t){var e=this,r=new ut(function(t,r){e.ready().then(function(){S(e._dbInfo,ht,function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName),s=i.count();s.onsuccess=function(){t(s.result)},s.onerror=function(){r(s.error)}}catch(t){r(t)}})}).catch(r)});return i(r,t),r}function A(t,e){var r=this,n=new ut(function(e,n){if(t<0)return void e(null);r.ready().then(function(){S(r._dbInfo,ht,function(o,i){if(o)return n(o);try{var s=i.objectStore(r._dbInfo.storeName),a=!1,u=s.openCursor();u.onsuccess=function(){var r=u.result;if(!r)return void e(null);0===t?e(r.key):a?e(r.key):(a=!0,r.advance(t))},u.onerror=function(){n(u.error)}}catch(t){n(t)}})}).catch(n)});return i(n,e),n}function T(t){var e=this,r=new ut(function(t,r){e.ready().then(function(){S(e._dbInfo,ht,function(n,o){if(n)return r(n);try{var i=o.objectStore(e._dbInfo.storeName),s=i.openCursor(),a=[];s.onsuccess=function(){var e=s.result;if(!e)return void t(a);a.push(e.key),e.continue()},s.onerror=function(){r(s.error)}}catch(t){r(t)}})}).catch(r)});return i(r,t),r}function I(t){var e,r,n,o,i,s=.75*t.length,a=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var c=new ArrayBuffer(s),l=new Uint8Array(c);for(e=0;e<a;e+=4)r=dt.indexOf(t[e]),n=dt.indexOf(t[e+1]),o=dt.indexOf(t[e+2]),i=dt.indexOf(t[e+3]),l[u++]=r<<2|n>>4,l[u++]=(15&n)<<4|o>>2,l[u++]=(3&o)<<6|63&i;return c}function U(t){var e,r=new Uint8Array(t),n="";for(e=0;e<r.length;e+=3)n+=dt[r[e]>>2],n+=dt[(3&r[e])<<4|r[e+1]>>4],n+=dt[(15&r[e+1])<<2|r[e+2]>>6],n+=dt[63&r[e+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}function M(t,e){var r="";if(t&&(r=At.call(t)),t&&("[object ArrayBuffer]"===r||t.buffer&&"[object ArrayBuffer]"===At.call(t.buffer))){var n,o=yt;t instanceof ArrayBuffer?(n=t,o+=bt):(n=t.buffer,"[object Int8Array]"===r?o+=jt:"[object Uint8Array]"===r?o+=wt:"[object Uint8ClampedArray]"===r?o+=St:"[object Int16Array]"===r?o+=Ot:"[object Uint16Array]"===r?o+=Ct:"[object Int32Array]"===r?o+=xt:"[object Uint32Array]"===r?o+=Rt:"[object Float32Array]"===r?o+=Pt:"[object Float64Array]"===r?o+=kt:e(new Error("Failed to get type for BinaryArray"))),e(o+U(n))}else if("[object Blob]"===r){var i=new FileReader;i.onload=function(){var r=vt+t.type+"~"+U(this.result);e(yt+_t+r)},i.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(r){console.error("Couldn't convert value into a JSON string: ",t),e(null,r)}}function N(t){if(t.substring(0,gt)!==yt)return JSON.parse(t);var e,r=t.substring(Et),n=t.substring(gt,Et);if(n===_t&&mt.test(r)){var i=r.match(mt);e=i[1],r=r.substring(i[0].length)}var s=I(r);switch(n){case bt:return s;case _t:return o([s],{type:e});case jt:return new Int8Array(s);case wt:return new Uint8Array(s);case St:return new Uint8ClampedArray(s);case Ot:return new Int16Array(s);case Ct:return new Uint16Array(s);case xt:return new Int32Array(s);case Rt:return new Uint32Array(s);case Pt:return new Float32Array(s);case kt:return new Float64Array(s);default:throw new Error("Unkown type: "+n)}}function D(t){var e=this,r={db:null};if(t)for(var n in t)r[n]="string"!=typeof t[n]?t[n].toString():t[n];var o=new ut(function(t,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(t){return n(t)}r.db.transaction(function(o){o.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){e._dbInfo=r,t()},function(t,e){n(e)})})});return r.serializer=Tt,o}function F(t,e){var r=this;t=a(t);var n=new ut(function(e,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){r.executeSql("SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],function(t,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),e(n)},function(t,e){n(e)})})}).catch(n)});return i(n,e),n}function L(t,e){var r=this,n=new ut(function(e,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){r.executeSql("SELECT * FROM "+o.storeName,[],function(r,n){for(var i=n.rows,s=i.length,a=0;a<s;a++){var u=i.item(a),c=u.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=t(c,u.key,a+1)))return void e(c)}e()},function(t,e){n(e)})})}).catch(n)});return i(n,e),n}function q(t,e,r,n){var o=this;t=a(t);var s=new ut(function(i,s){o.ready().then(function(){void 0===e&&(e=null);var a=e,u=o._dbInfo;u.serializer.serialize(e,function(e,c){c?s(c):u.db.transaction(function(r){r.executeSql("INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[t,e],function(){i(a)},function(t,e){s(e)})},function(e){if(e.code===e.QUOTA_ERR){if(n>0)return void i(q.apply(o,[t,a,r,n-1]));s(e)}})})}).catch(s)});return i(s,r),s}function z(t,e,r){return q.apply(this,[t,e,r,1])}function B(t,e){var r=this;t=a(t);var n=new ut(function(e,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){r.executeSql("DELETE FROM "+o.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){n(e)})})}).catch(n)});return i(n,e),n}function H(t){var e=this,r=new ut(function(t,r){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){e.executeSql("DELETE FROM "+n.storeName,[],function(){t()},function(t,e){r(e)})})}).catch(r)});return i(r,t),r}function J(t){var e=this,r=new ut(function(t,r){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){e.executeSql("SELECT COUNT(key) as c FROM "+n.storeName,[],function(e,r){var n=r.rows.item(0).c;t(n)},function(t,e){r(e)})})}).catch(r)});return i(r,t),r}function V(t,e){var r=this,n=new ut(function(e,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){r.executeSql("SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,r){var n=r.rows.length?r.rows.item(0).key:null;e(n)},function(t,e){n(e)})})}).catch(n)});return i(n,e),n}function W(t){var e=this,r=new ut(function(t,r){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){e.executeSql("SELECT key FROM "+n.storeName,[],function(e,r){for(var n=[],o=0;o<r.rows.length;o++)n.push(r.rows.item(o).key);t(n)},function(t,e){r(e)})})}).catch(r)});return i(r,t),r}function G(t){var e=this,r={};if(t)for(var n in t)r[n]=t[n];return r.keyPrefix=r.name+"/",r.storeName!==e._defaultConfig.storeName&&(r.keyPrefix+=r.storeName+"/"),e._dbInfo=r,r.serializer=Tt,ut.resolve()}function $(t){var e=this,r=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(t)&&localStorage.removeItem(n)}});return i(r,t),r}function Q(t,e){var r=this;t=a(t);var n=r.ready().then(function(){var e=r._dbInfo,n=localStorage.getItem(e.keyPrefix+t);return n&&(n=e.serializer.deserialize(n)),n});return i(n,e),n}function K(t,e){var r=this,n=r.ready().then(function(){for(var e=r._dbInfo,n=e.keyPrefix,o=n.length,i=localStorage.length,s=1,a=0;a<i;a++){var u=localStorage.key(a);if(0===u.indexOf(n)){var c=localStorage.getItem(u);if(c&&(c=e.serializer.deserialize(c)),void 0!==(c=t(c,u.substring(o),s++)))return c}}});return i(n,e),n}function X(t,e){var r=this,n=r.ready().then(function(){var e,n=r._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(n.keyPrefix.length)),e});return i(n,e),n}function Y(t){var e=this,r=e.ready().then(function(){for(var t=e._dbInfo,r=localStorage.length,n=[],o=0;o<r;o++)0===localStorage.key(o).indexOf(t.keyPrefix)&&n.push(localStorage.key(o).substring(t.keyPrefix.length));return n});return i(r,t),r}function Z(t){var e=this,r=e.keys().then(function(t){return t.length});return i(r,t),r}function tt(t,e){var r=this;t=a(t);var n=r.ready().then(function(){var e=r._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return i(n,e),n}function et(t,e,r){var n=this;t=a(t);var o=n.ready().then(function(){void 0===e&&(e=null);var r=e;return new ut(function(o,i){var s=n._dbInfo;s.serializer.serialize(e,function(e,n){if(n)i(n);else try{localStorage.setItem(s.keyPrefix+t,e),o(r)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||i(t),i(t)}})})});return i(o,r),o}function rt(t,e){t[e]=function(){var r=arguments;return t.ready().then(function(){return t[e].apply(t,r)})}}function nt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var r in e)e.hasOwnProperty(r)&&(Mt(e[r])?arguments[0][r]=e[r].slice():arguments[0][r]=e[r])}return arguments[0]}var ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();"undefined"==typeof Promise&&t(3);var st,at,ut=Promise,ct="local-forage-detect-blob-support",lt=Object.prototype.toString,ht="readonly",pt="readwrite",ft={_driver:"asyncStorage",_initStorage:O,_support:function(){try{if(!it)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:C,getItem:x,setItem:R,removeItem:P,clear:k,length:E,key:A,keys:T},dt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vt="~~local_forage_type~",mt=/^~~local_forage_type~([^~]+)~/,yt="__lfsc__:",gt=yt.length,bt="arbf",_t="blob",jt="si08",wt="ui08",St="uic8",Ot="si16",xt="si32",Ct="ur16",Rt="ui32",Pt="fl32",kt="fl64",Et=gt+bt.length,At=Object.prototype.toString,Tt={serialize:M,deserialize:N,stringToBuffer:I,bufferToString:U},It={_driver:"webSQLStorage",_initStorage:D,_support:function(){return"function"==typeof openDatabase}(),iterate:L,getItem:F,setItem:z,removeItem:B,clear:H,length:J,key:V,keys:W},Ut={_driver:"localStorageWrapper",_initStorage:G,_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&"function"==typeof localStorage.setItem}catch(t){return!1}}(),iterate:K,getItem:Q,setItem:et,removeItem:tt,clear:$,length:Z,key:X,keys:Y},Mt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Nt={},Dt={},Ft={INDEXEDDB:ft,WEBSQL:It,LOCALSTORAGE:Ut},Lt=[Ft.INDEXEDDB._driver,Ft.WEBSQL._driver,Ft.LOCALSTORAGE._driver],qt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],zt={description:"",driver:Lt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},Bt=function(){function t(e){n(this,t);for(var r in Ft)if(Ft.hasOwnProperty(r)){var o=Ft[r],i=o._driver;this[r]=i,Nt[i]||this.defineDriver(o)}this._defaultConfig=nt({},zt),this._config=nt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":ot(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,r){var n=new ut(function(e,r){try{var n=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void r(o);for(var i=qt.concat("_initStorage"),s=0,a=i.length;s<a;s++){var u=i[s];if(!u||!t[u]||"function"!=typeof t[u])return void r(o)}var c=function(r){Nt[n]&&console.info("Redefining LocalForage driver: "+n),Nt[n]=t,Dt[n]=r,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(c,r):c(!!t._support):c(!0)}catch(t){r(t)}});return s(n,e,r),n},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,r){var n=Nt[t]?ut.resolve(Nt[t]):ut.reject(new Error("Driver not found."));return s(n,e,r),n},t.prototype.getSerializer=function(t){var e=ut.resolve(Tt);return s(e,t),e},t.prototype.ready=function(t){var e=this,r=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return s(r,t,t),r},t.prototype.setDriver=function(t,e,r){function n(){a._config.driver=a.driver()}function o(t){return a._extend(t),n(),a._ready=a._initStorage(a._config),a._ready}function i(t){return function(){function e(){for(;r<t.length;){var i=t[r];return r++,a._dbInfo=null,a._ready=null,a.getDriver(i).then(o).catch(e)}n();var s=new Error("No available storage method found.");return a._driverSet=ut.reject(s),a._driverSet}var r=0;return e()}}var a=this;Mt(t)||(t=[t]);var u=this._getSupportedDrivers(t),c=null!==this._driverSet?this._driverSet.catch(function(){return ut.resolve()}):ut.resolve();return this._driverSet=c.then(function(){var t=u[0];return a._dbInfo=null,a._ready=null,a.getDriver(t).then(function(t){a._driver=t._driver,n(),a._wrapLibraryMethodsWithReady(),a._initDriver=i(u)})}).catch(function(){n();var t=new Error("No available storage method found.");return a._driverSet=ut.reject(t),a._driverSet}),s(this._driverSet,e,r),this._driverSet},t.prototype.supports=function(t){return!!Dt[t]},t.prototype._extend=function(t){nt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r];this.supports(o)&&e.push(o)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=qt.length;t<e;t++)rt(this,qt[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),Ht=new Bt;e.exports=Ht},{3:3}]},{},[4])(4)})}).call(e,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/rxjs/BehaviorSubject.js":function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r("./node_modules/rxjs/Subject.js"),i=r("./node_modules/rxjs/util/ObjectUnsubscribedError.js"),s=function(t){function e(e){t.call(this),this._value=e}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(o.Subject);e.BehaviorSubject=s},"./node_modules/rxjs/Notification.js":function(t,e,r){"use strict";var n=r("./node_modules/rxjs/Observable.js"),o=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=o},"./node_modules/rxjs/add/operator/map.js":function(t,e,r){"use strict";var n=r("./node_modules/rxjs/Observable.js"),o=r("./node_modules/rxjs/operator/map.js");n.Observable.prototype.map=o.map},"./node_modules/rxjs/add/operator/toPromise.js":function(t,e,r){"use strict";var n=r("./node_modules/rxjs/Observable.js"),o=r("./node_modules/rxjs/operator/toPromise.js");n.Observable.prototype.toPromise=o.toPromise},"./node_modules/rxjs/observable/ArrayLikeObservable.js":function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r("./node_modules/rxjs/Observable.js"),i=r("./node_modules/rxjs/observable/ScalarObservable.js"),s=r("./node_modules/rxjs/observable/EmptyObservable.js"),a=function(t){function e(e,r){t.call(this),this.arrayLike=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(e,t),e.create=function(t,r){var n=t.length;return 0===n?new s.EmptyObservable:1===n?new i.ScalarObservable(t[0],r):new e(t,r)},e.dispatch=function(t){var e=t.arrayLike,r=t.index,n=t.length,o=t.subscriber;if(!o.closed){if(r>=n)return void o.complete();o.next(e[r]),t.index=r+1,this.schedule(t)}},e.prototype._subscribe=function(t){var r=this,n=r.arrayLike,o=r.scheduler,i=n.length;if(o)return o.schedule(e.dispatch,0,{arrayLike:n,index:0,length:i,subscriber:t});for(var s=0;s<i&&!t.closed;s++)t.next(n[s]);t.complete()},e}(o.Observable);e.ArrayLikeObservable=a},"./node_modules/rxjs/observable/FromObservable.js":function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r("./node_modules/rxjs/util/isArray.js"),i=r("./node_modules/rxjs/util/isArrayLike.js"),s=r("./node_modules/rxjs/util/isPromise.js"),a=r("./node_modules/rxjs/observable/PromiseObservable.js"),u=r("./node_modules/rxjs/observable/IteratorObservable.js"),c=r("./node_modules/rxjs/observable/ArrayObservable.js"),l=r("./node_modules/rxjs/observable/ArrayLikeObservable.js"),h=r("./node_modules/rxjs/symbol/iterator.js"),p=r("./node_modules/rxjs/Observable.js"),f=r("./node_modules/rxjs/operator/observeOn.js"),d=r("./node_modules/rxjs/symbol/observable.js"),v=function(t){function e(e,r){t.call(this,null),this.ish=e,this.scheduler=r}return n(e,t),e.create=function(t,r){if(null!=t){if("function"==typeof t[d.observable])return t instanceof p.Observable&&!r?t:new e(t,r);if(o.isArray(t))return new c.ArrayObservable(t,r);if(s.isPromise(t))return new a.PromiseObservable(t,r);if("function"==typeof t[h.iterator]||"string"==typeof t)return new u.IteratorObservable(t,r);if(i.isArrayLike(t))return new l.ArrayLikeObservable(t,r)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,r=this.scheduler;return null==r?e[d.observable]().subscribe(t):e[d.observable]().subscribe(new f.ObserveOnSubscriber(t,r,0))},e}(p.Observable);e.FromObservable=v},"./node_modules/rxjs/observable/IteratorObservable.js":function(t,e,r){"use strict";function n(t){var e=t[l.iterator];if(!e&&"string"==typeof t)return new p(t);if(!e&&void 0!==t.length)return new f(t);if(!e)throw new TypeError("object is not iterable");return t[l.iterator]()}function o(t){var e=+t.length;return isNaN(e)?0:0!==e&&i(e)?(e=s(e)*Math.floor(Math.abs(e)),e<=0?0:e>d?d:e):e}function i(t){return"number"==typeof t&&u.root.isFinite(t)}function s(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var a=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},u=r("./node_modules/rxjs/util/root.js"),c=r("./node_modules/rxjs/Observable.js"),l=r("./node_modules/rxjs/symbol/iterator.js"),h=function(t){function e(e,r){if(t.call(this),this.scheduler=r,null==e)throw new Error("iterator cannot be null.");this.iterator=n(e)}return a(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.hasError,n=t.iterator,o=t.subscriber;if(r)return void o.error(t.error);var i=n.next();return i.done?void o.complete():(o.next(i.value),t.index=e+1,o.closed?void("function"==typeof n.return&&n.return()):void this.schedule(t))},e.prototype._subscribe=function(t){var r=this,n=r.iterator,o=r.scheduler;if(o)return o.schedule(e.dispatch,0,{index:0,iterator:n,subscriber:t});for(;;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed){"function"==typeof n.return&&n.return();break}}},e}(c.Observable);e.IteratorObservable=h;var p=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length),this.str=t,this.idx=e,this.len=r}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),f=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=o(t)),this.arr=t,this.idx=e,this.len=r}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),d=Math.pow(2,53)-1},"./node_modules/rxjs/observable/PromiseObservable.js":function(t,e,r){"use strict";function n(t){var e=t.value,r=t.subscriber;r.closed||(r.next(e),r.complete())}function o(t){var e=t.err,r=t.subscriber;r.closed||r.error(e)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r("./node_modules/rxjs/util/root.js"),a=r("./node_modules/rxjs/Observable.js"),u=function(t){function e(e,r){t.call(this),this.promise=e,this.scheduler=r}return i(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,r=this.promise,i=this.scheduler;if(null==i)this._isScalar?t.closed||(t.next(this.value),t.complete()):r.then(function(r){e.value=r,e._isScalar=!0,t.closed||(t.next(r),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){s.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return i.schedule(n,0,{value:this.value,subscriber:t})}else r.then(function(r){e.value=r,e._isScalar=!0,t.closed||t.add(i.schedule(n,0,{value:r,subscriber:t}))},function(e){t.closed||t.add(i.schedule(o,0,{err:e,subscriber:t}))}).then(null,function(t){s.root.setTimeout(function(){throw t})})},e}(a.Observable);e.PromiseObservable=u},"./node_modules/rxjs/observable/from.js":function(t,e,r){"use strict";var n=r("./node_modules/rxjs/observable/FromObservable.js");e.from=n.FromObservable.create},"./node_modules/rxjs/observable/fromPromise.js":function(t,e,r){"use strict";var n=r("./node_modules/rxjs/observable/PromiseObservable.js");e.fromPromise=n.PromiseObservable.create},"./node_modules/rxjs/observable/of.js":function(t,e,r){"use strict";var n=r("./node_modules/rxjs/observable/ArrayObservable.js");e.of=n.ArrayObservable.of},"./node_modules/rxjs/operator/catch.js":function(t,e,r){"use strict";function n(t){var e=new a(t),r=this.lift(e);return e.caught=r}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r("./node_modules/rxjs/OuterSubscriber.js"),s=r("./node_modules/rxjs/util/subscribeToResult.js");e._catch=n;var a=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.selector,this.caught))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.selector=r,this.caught=n}return o(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(s.subscribeToResult(this,r))}},e}(i.OuterSubscriber)},"./node_modules/rxjs/operator/concatAll.js":function(t,e,r){"use strict";function n(){return this.lift(new o.MergeAllOperator(1))}var o=r("./node_modules/rxjs/operator/mergeAll.js");e.concatAll=n},"./node_modules/rxjs/operator/concatMap.js":function(t,e,r){"use strict";function n(t,e){return this.lift(new o.MergeMapOperator(t,e,1))}var o=r("./node_modules/rxjs/operator/mergeMap.js");e.concatMap=n},"./node_modules/rxjs/operator/every.js":function(t,e,r){"use strict";function n(t,e){return this.lift(new s(t,e,this))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r("./node_modules/rxjs/Subscriber.js");e.every=n;var s=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg,this.source))},t}(),a=function(t){function e(e,r,n,o){t.call(this,e),this.predicate=r,this.thisArg=n,this.source=o,this.index=0,this.thisArg=n||this}return o(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)},"./node_modules/rxjs/operator/filter.js":function(t,e,r){"use strict";function n(t,e){return this.lift(new s(t,e))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r("./node_modules/rxjs/Subscriber.js");e.filter=n;var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.thisArg=n,this.count=0}return o(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.Subscriber)},"./node_modules/rxjs/operator/first.js":function(t,e,r){"use strict";function n(t,e,r){return this.lift(new a(t,e,r,this))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r("./node_modules/rxjs/Subscriber.js"),s=r("./node_modules/rxjs/util/EmptyError.js");e.first=n;var a=function(){function t(t,e,r,n){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,r,n,o,i){t.call(this,e),this.predicate=r,this.resultSelector=n,this.defaultValue=o,this.source=i,this.index=0,this.hasCompleted=!1,this._emitted=!1}return o(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}r&&this._emit(t,e)},e.prototype._emit=function(t,e){if(this.resultSelector)return void this._tryResultSelector(t,e);this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(r)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new s.EmptyError):(t.next(this.defaultValue),t.complete())},e}(i.Subscriber)},"./node_modules/rxjs/operator/last.js":function(t,e,r){"use strict";function n(t,e,r){return this.lift(new a(t,e,r,this))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r("./node_modules/rxjs/Subscriber.js"),s=r("./node_modules/rxjs/util/EmptyError.js");e.last=n;var a=function(){function t(t,e,r,n){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,r,n,o,i){t.call(this,e),this.predicate=r,this.resultSelector=n,this.defaultValue=o,this.source=i,this.hasValue=!1,this.index=0,void 0!==o&&(this.lastValue=o,this.hasValue=!0)}return o(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(r){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=r,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new s.EmptyError)},e}(i.Subscriber)},"./node_modules/rxjs/operator/map.js":function(t,e,r){"use strict";function n(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new s(t,e))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r("./node_modules/rxjs/Subscriber.js");e.map=n;var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}();e.MapOperator=s;var a=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.count=0,this.thisArg=n||this}return o(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.Subscriber)},"./node_modules/rxjs/operator/mergeMap.js":function(t,e,r){"use strict";function n(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),this.lift(new a(t,e,r))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r("./node_modules/rxjs/util/subscribeToResult.js"),s=r("./node_modules/rxjs/OuterSubscriber.js");e.mergeMap=n;var a=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=a;var u=function(t){function e(e,r,n,o){void 0===o&&(o=Number.POSITIVE_INFINITY),t.call(this,e),this.project=r,this.resultSelector=n,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){this.add(i.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,o){this.resultSelector?this._notifyResultSelector(t,e,r,n):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,r,n){var o;try{o=this.resultSelector(t,e,r,n)}catch(t){return void this.destination.error(t)}this.destination.next(o)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.OuterSubscriber);e.MergeMapSubscriber=u},"./node_modules/rxjs/operator/observeOn.js":function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=0),this.lift(new a(t,e))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r("./node_modules/rxjs/Subscriber.js"),s=r("./node_modules/rxjs/Notification.js");e.observeOn=n;var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=a;var u=function(t){function e(e,r,n){void 0===n&&(n=0),t.call(this,e),this.scheduler=r,this.delay=n}return o(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new c(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete())},e}(i.Subscriber);e.ObserveOnSubscriber=u;var c=function(){function t(t,e){this.notification=t,this.destination=e}return t}();e.ObserveOnMessage=c},"./node_modules/rxjs/operator/reduce.js":function(t,e,r){"use strict";function n(t,e){var r=!1;return arguments.length>=2&&(r=!0),this.lift(new s(t,e,r))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r("./node_modules/rxjs/Subscriber.js");e.reduce=n;var s=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}();e.ReduceOperator=s;var a=function(t){function e(e,r,n,o){t.call(this,e),this.accumulator=r,this.hasSeed=o,this.index=0,this.hasValue=!1,this.acc=n,this.hasSeed||this.index++}return o(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t,this.index++)}catch(t){return void this.destination.error(t)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(i.Subscriber);e.ReduceSubscriber=a},"./node_modules/rxjs/operator/toPromise.js":function(t,e,r){"use strict";function n(t){var e=this;if(t||(o.root.Rx&&o.root.Rx.config&&o.root.Rx.config.Promise?t=o.root.Rx.config.Promise:o.root.Promise&&(t=o.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})}var o=r("./node_modules/rxjs/util/root.js");e.toPromise=n},"./node_modules/rxjs/util/EmptyError.js":function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);e.EmptyError=o},"./node_modules/rxjs/util/noop.js":function(t,e,r){"use strict";function n(){}e.noop=n},"./src/core.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return f});var n=r("./node_modules/@angular/core/@angular/core.es5.js"),o=(r("./src/services/core-services.service.ts"),r("./src/services/base.ts")),i=r("./src/jsonapi-config.ts"),s=r("./src/sources/http.service.ts"),a=r("./src/sources/store.service.ts"),u=r("./node_modules/rxjs/util/noop.js"),c=(r.n(u),this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}),l=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},f=function(){function t(t,r,n){this.resourceServices={},this.loadingsCounter=0,this.loadingsStart=u.noop,this.loadingsDone=u.noop,this.loadingsError=u.noop,this.loadingsOffline=u.noop,this.config=new i.a;for(var o in this.config)this.config[o]=t[o]||this.config[o];e.me=this,e.injectedServices={JsonapiStoreService:r,JsonapiHttp:n,rsJsonapiConfig:this.config}}return e=t,t.prototype._register=function(t){return!(t.type in this.resourceServices)&&(this.resourceServices[t.type]=t,!0)},t.prototype.getResourceService=function(t){return this.resourceServices[t]},t.prototype.refreshLoadings=function(t){this.loadingsCounter+=t,0===this.loadingsCounter?this.loadingsDone():1===this.loadingsCounter&&this.loadingsStart()},t.prototype.clearCache=function(){return e.injectedServices.JsonapiStoreService.clearCache(),!0},t.prototype.duplicateResource=function(t){for(var e=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this.getResourceService(t.type).new();return i.attributes=c({},i.attributes,t.attributes),i.attributes.name=i.attributes.name+" xXx",o.a.forEach(t.relationships,function(t,n){"id"in t.data?r.indexOf(n)>-1?i.addRelationship(e.duplicateResource(t.data),n):i.addRelationship(t.data,n):r.indexOf(n)>-1?o.a.forEach(t.data,function(t){i.addRelationship(e.duplicateResource(t),n)}):i.addRelationships(t.data,n)}),i},t=e=l([Object(n.C)(),p(0,Object(n.S)()),h("design:paramtypes",[i.a,a.a,s.a])],t);var e}()},"./src/index.ts":function(t,e,r){"use strict";var n=r("./src/ngx-jsonapi.module.ts");r.d(e,"a",function(){return n.a});r("./src/core.ts")},"./src/jsonapi-config.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(){function t(){this.url="http://yourdomain/api/v1/",this.params_separator="?",this.delay=0,this.unify_concurrency=!0,this.cache_prerequests=!0,this.parameters={page:{number:"page[number]",limit:"page[limit]"}}}return t}()},"./src/ngx-jsonapi.module.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return m});var n=r("./src/polyfills.ts"),o=(r.n(n),r("./node_modules/@angular/core/@angular/core.es5.js")),i=r("./node_modules/@angular/common/@angular/common.es5.js"),s=r("./node_modules/@angular/platform-browser/@angular/platform-browser.es5.js"),a=r("./node_modules/@angular/common/@angular/common/http.es5.js"),u=r("./src/core.ts"),c=r("./src/sources/http.service.ts"),l=r("./src/sources/store.service.ts"),h=r("./src/services/noduplicatedhttpcalls.service.ts"),p=r("./src/jsonapi-config.ts"),f=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},v=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},m=function(){function t(t,e){if(t)throw new Error("NgxJsonapiModule is already loaded. Import it in the AppModule only")}return e=t,t.forRoot=function(t){return{ngModule:e,providers:[{provide:p.a,useValue:t}]}},t=e=f([Object(o.M)({imports:[i.b],exports:[s.a,a.b],providers:[u.a,h.a,l.a,c.a]}),v(0,Object(o.S)()),v(0,Object(o._8)()),d("design:paramtypes",[t,u.a])],t);var e}()},"./src/parent-resource-service.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r("./src/services/base.ts"),o=r("./node_modules/rxjs/util/isFunction.js"),i=(r.n(o),r("./node_modules/rxjs/util/noop.js")),s=(r.n(i),this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}),a=function(){function t(){}return t.prototype.proccess_exec_params=function(t){return Object(o.isFunction)(t.params)?(t.fc_error=t.fc_success,t.fc_success=t.params,t.params=s({},n.a.Params)):void 0===t.params?t.params=s({},n.a.Params):t.params=s({},n.a.Params,t.params),t.fc_success=Object(o.isFunction)(t.fc_success)?t.fc_success:i.noop,t.fc_error=Object(o.isFunction)(t.fc_error)?t.fc_error:void 0,t},t.prototype.runFc=function(t,e){return Object(o.isFunction)(t)?t(e):Object(i.noop)()},t}()},"./src/polyfills.ts":function(t,e){void 0===SVGElement.prototype.contains&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)},"./src/resource.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return p});var n=r("./src/core.ts"),o=r("./src/services/base.ts"),i=r("./src/parent-resource-service.ts"),s=r("./src/services/path-builder.ts"),a=r("./src/services/converter.ts"),u=r("./node_modules/rxjs/util/isFunction.js"),c=(r.n(u),r("./node_modules/rxjs/util/isArray.js")),l=(r.n(c),this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),h=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.is_new=!0,e.is_loading=!1,e.is_saving=!1,e.id="",e.type="",e.attributes={},e.relationships={},e}return l(e,t),e.prototype.reset=function(){var t=this;this.id="",this.attributes={},o.a.forEach(this.getService().schema.attributes,function(e,r){t.attributes[r]="default"in e?e.default:void 0}),this.relationships={},o.a.forEach(this.getService().schema.relationships,function(e,r){var n={data:{}};t.relationships[r]=n,t.getService().schema.relationships[r].hasMany&&(t.relationships[r].data=o.a.newCollection())}),this.is_new=!0},e.prototype.toObject=function(t){var e=this;t=h({},o.a.Params,t);var r={},n=[],i=[];o.a.forEach(this.relationships,function(s,a){if(e.getService().schema.relationships[a]&&e.getService().schema.relationships[a].hasMany)r[a]={data:[]},o.a.forEach(s.data,function(e){var o={id:e.id,type:e.type};r[a].data.push(o);var s=e.type+"_"+e.id;-1===i.indexOf(s)&&-1!==t.include.indexOf(a)&&(i.push(s),n.push(e.toObject({}).data))});else{var u=s.data;!("id"in s.data)&&Object.keys(s.data).length>0&&console.warn(a+" defined with hasMany:false, but I have a collection"),u.id&&u.type?r[a]={data:{id:u.id,type:u.type}}:r[a]={data:{}};var c=u.type+"_"+u.id;-1===i.indexOf(c)&&-1!==t.include.indexOf(u.type)&&(i.push(c),n.push(u.toObject({}).data))}});var s;this.getService().parseToServer?(s=h({},this.attributes),this.getService().parseToServer(s)):s=this.attributes;var a={data:{type:this.type,id:this.id,attributes:s,relationships:r}};return n.length>0&&(a.included=n),a},e.prototype.save=function(t,e,r){return this.__exec({id:null,params:t,fc_success:e,fc_error:r,exec_type:"save"})},e.prototype.__exec=function(e){var r=t.prototype.proccess_exec_params.call(this,e);switch(e.exec_type){case"save":return this._save(r.params,e.fc_success,e.fc_error)}},e.prototype._save=function(t,e,r){var i=this;return new Promise(function(l,h){if(!i.is_saving&&!i.is_loading){i.is_saving=!0;var p=i.toObject(t),f=new s.a;f.applyParams(i.getService(),t),i.id&&f.appendPath(i.id);n.a.injectedServices.JsonapiHttp.exec(f.get(),i.id?"PUT":"POST",p,!Object(u.isFunction)(r)).then(function(t){if(i.is_saving=!1,i.id||(i.getService().cachememory.deprecateCollections(f.get()),i.getService().cachestore.deprecateCollections(f.get())),"id"in t.data.data)i.id=t.data.data.id,a.a.build(t.data,i);else if(Object(c.isArray)(t.data.data)){console.warn("Server return a collection when we save()",t.data.data);var r=i.getService().cachememory.getOrCreateCollection("justAnUpdate");a.a.build(t.data,r),o.a.forEach(r,function(t,e){var r=a.a.getService(t.type).cachememory.resources[t.id];a.a.getService(t.type).cachememory.setResource(t),a.a.getService(t.type).cachestore.setResource(t),r.id=r.id+"x"}),console.warn("Temporal collection for a resource_value update",r)}i.runFc(e,t),l(t)}).catch(function(t){i.is_saving=!1,i.runFc(r,"data"in t?t.data:t),h("data"in t?t.data:t)})}})},e.prototype.addRelationship=function(t,e){var r=t.id;r||(r="new_"+Math.floor(1e5*Math.random())),e=e||t.type,e in this.relationships||(this.relationships[e]={data:{}}),e in this.getService().schema.relationships&&this.getService().schema.relationships[e].hasMany?this.relationships[e].data[r]=t:this.relationships[e].data=t},e.prototype.addRelationships=function(t,e){var r=this;e in this.relationships?o.a.forEach(this.relationships[e].data,function(n){n.id in t||delete r.relationships[e].data[n.id]}):this.relationships[e]={data:{}},o.a.forEach(t,function(t){r.relationships[e].data[t.id]=t})},e.prototype.addRelationshipsArray=function(t,e){var r=this;t.forEach(function(t){r.addRelationship(t,e||t.type)})},e.prototype.removeRelationship=function(t,e){if(!(t in this.relationships))return!1;if(!("data"in this.relationships[t]))return!1;if(t in this.getService().schema.relationships&&this.getService().schema.relationships[t].hasMany){if(!(e in this.relationships[t].data))return!1;delete this.relationships[t].data[e]}else this.relationships[t].data={};return!0},e.prototype.getService=function(){return a.a.getService(this.type)},e}(i.a)},"./src/service.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return m});var n=r("./src/core.ts"),o=r("./src/services/base.ts"),i=r("./src/resource.ts"),s=r("./src/parent-resource-service.ts"),a=r("./src/services/path-builder.ts"),u=r("./src/services/url-params-builder.ts"),c=r("./src/services/converter.ts"),l=r("./src/services/localfilter.ts"),h=r("./src/services/cachememory.ts"),p=r("./src/services/cachestore.ts"),f=r("./node_modules/rxjs/util/noop.js"),d=(r.n(f),this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),v=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.smartfiltertype="undefined",e}return d(e,t),e.prototype.register=function(){if(null===n.a.me)throw new Error("Error: you are trying register `"+this.type+"` before inject JsonapiCore somewhere, almost one time.");return this.cachememory=new h.a,this.cachestore=new p.a,this.schema=v({},o.a.Schema,this.schema),n.a.me._register(this)},e.prototype.newResource=function(){return new i.a},e.prototype.new=function(){var t=this.newResource();return t.type=this.type,t.reset(),t},e.prototype.getPrePath=function(){return""},e.prototype.getPath=function(){return this.path?this.path:this.type},e.prototype.get=function(t,e,r,n){return this.__exec({id:t,params:e,fc_success:r,fc_error:n,exec_type:"get"})},e.prototype.delete=function(t,e,r,n){return this.__exec({id:t,params:e,fc_success:r,fc_error:n,exec_type:"delete"})},e.prototype.all=function(t,e,r){return this.__exec({id:null,params:t,fc_success:e,fc_error:r,exec_type:"all"})},e.prototype.__exec=function(e){var r=t.prototype.proccess_exec_params.call(this,e);switch(r.exec_type){case"get":return this._get(r.id,r.params,r.fc_success,r.fc_error);case"delete":return this._delete(r.id,r.params,r.fc_success,r.fc_error);case"all":return this._all(r.params,r.fc_success,r.fc_error)}},e.prototype._get=function(t,e,r,n){var i=this,s=new a.a;s.applyParams(this,e),s.appendPath(t);var u=this.getService().cachememory.getOrCreateResource(this.type,t);u.is_loading=!0;var c=e.ttl||0;if(this.getService().cachememory.isResourceLive(t,c)){var l=new Promise(function(t,e){t(r),l.then(function(t){i.runFc(t,"cachememory")}).catch(f.noop),u.is_loading=!1});return u}return this.getService().cachestore.getResource(u).then(function(t){o.a.isObjectLive(c,u.lastupdate)?i.runFc(r,{data:t}):i.getGetFromServer(s,r,n,u)}).catch(function(t){i.getGetFromServer(s,r,n,u)}),u},e.prototype.getGetFromServer=function(t,e,r,o){var i=this;n.a.injectedServices.JsonapiHttp.get(t.get()).then(function(t){c.a.build(t,o),o.is_loading=!1,i.getService().cachememory.setResource(o),i.getService().cachestore.setResource(o),i.runFc(e,t)}).catch(function(t){i.runFc(r,t)})},e.prototype._all=function(t,e,r){var i=this;t.smartfilter&&"localfilter"!==this.smartfiltertype&&Object.assign(t.remotefilter,t.smartfilter),t.cachehash=t.cachehash||"";var s=new a.a,c=new u.a;s.applyParams(this,t),t.remotefilter&&Object.keys(t.remotefilter).length>0&&(this.getService().parseToServer&&this.getService().parseToServer(t.remotefilter),s.addParam(c.toparams({filter:t.remotefilter}))),t.page&&(t.page.number>1&&s.addParam(n.a.injectedServices.rsJsonapiConfig.parameters.page.number+"="+t.page.number),t.page.limit&&s.addParam(n.a.injectedServices.rsJsonapiConfig.parameters.page.limit+"="+t.page.limit));var h,p=this.getService().cachememory.getOrCreateCollection(s.getForCache()),d=new l.a(t.localfilter);h=t.localfilter&&Object.keys(t.localfilter).length>0?o.a.newCollection():p;var v=t.ttl||this.schema.ttl;if(v>=0&&this.getService().cachememory.isCollectionExist(s.getForCache()))if(p.$source="memory",t.smartfilter&&"localfilter"===this.smartfiltertype&&Object.assign(t.localfilter,t.smartfilter),d.filterCollection(p,h),this.getService().cachememory.isCollectionLive(s.getForCache(),v))var m=new Promise(function(t,r){t(e),m.then(function(t){i.runFc(t,"cachememory")}).catch(f.noop)});else this.getAllFromServer(s,t,e,r,p,h);else p.$is_loading=!0,this.getService().cachestore.getCollectionFromStorePromise(s.getForCache(),s.includes,p).then(function(n){p.$source="store",p.$is_loading=!1,i.getService().cachememory.setCollection(s.getForCache(),p),d.filterCollection(p,h),o.a.isObjectLive(v,p.$cache_last_update)?i.runFc(e,{data:n}):i.getAllFromServer(s,t,e,r,p,h)}).catch(function(n){i.getAllFromServer(s,t,e,r,p,h)});return h},e.prototype.getAllFromServer=function(t,e,r,i,s,a){var u=this;s.$is_loading=!0,n.a.injectedServices.JsonapiHttp.get(t.get()).then(function(n){if(s.$source="server",s.$is_loading=!1,e.cachehash&&o.a.forEach(n.data.data,function(t){t.id=t.id+e.cachehash}),c.a.build(n,s),u.getService().cachememory.setCollection(t.getForCache(),s),u.getService().cachestore.setCollection(t.getForCache(),s,e.include),new l.a(e.localfilter).filterCollection(s,a),"undefined"===u.smartfiltertype){var i=s.page;1===i.number&&i.total_resources<=i.resources_per_page?u.smartfiltertype="localfilter":1===i.number&&i.total_resources>i.resources_per_page&&(u.smartfiltertype="remotefilter")}u.runFc(r,n)}).catch(function(t){s.$is_loading=!1,u.runFc(i,t)})},e.prototype._delete=function(t,e,r,o){var i=this,s=new a.a;s.applyParams(this,e),s.appendPath(t),n.a.injectedServices.JsonapiHttp.delete(s.get()).then(function(e){i.getService().cachememory.removeResource(t),i.runFc(r,e)}).catch(function(t){i.runFc(o,t)})},e.prototype.getService=function(){return c.a.getService(this.type)},e.prototype.clearCacheMemory=function(){var t=new a.a;return t.applyParams(this),this.getService().cachememory.deprecateCollections(t.getForCache())&&this.getService().cachestore.deprecateCollections(t.getForCache())},e.prototype.parseFromServer=function(t){},e}(s.a)},"./src/services/base.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r("./src/services/page.ts"),o=function(){function t(){}return t.newCollection=function(){return Object.defineProperties({},{$length:{get:function(){return 1*Object.keys(this).length},enumerable:!1},$toArray:{get:function(){var t=this;return Object.keys(this).map(function(e){return t[e]})},enumerable:!1},$is_loading:{value:!1,enumerable:!1,writable:!0},$source:{value:"",enumerable:!1,writable:!0},$cache_last_update:{value:0,enumerable:!1,writable:!0},page:{value:new n.a,enumerable:!1,writable:!0}})},t.isObjectLive=function(t,e){return t>=0&&Date.now()<=e+1e3*t},t.forEach=function(t,e){Object.keys(t).forEach(function(r){e(t[r],r)})},t.Params={id:"",include:[]},t.Schema={attributes:{},relationships:{},ttl:0},t}()},"./src/services/cachememory.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r("./src/services/base.ts"),o=r("./src/services/converter.ts"),i=r("./src/services/resource-functions.ts"),s=function(){function t(){this.collections={},this.collections_lastupdate={},this.resources={}}return t.prototype.isCollectionExist=function(t){return t in this.collections&&"new"!==this.collections[t].$source},t.prototype.isCollectionLive=function(t,e){return Date.now()<=this.collections_lastupdate[t]+1e3*e},t.prototype.isResourceLive=function(t,e){return this.resources[t]&&Date.now()<=this.resources[t].lastupdate+1e3*e},t.prototype.getOrCreateCollection=function(t){return t in this.collections||(this.collections[t]=n.a.newCollection(),this.collections[t].$source="new"),this.collections[t]},t.prototype.setCollection=function(t,e){var r=this;this.collections[t]=n.a.newCollection(),Object.keys(e).forEach(function(n){var o=e[n];r.collections[t][n]=o,r.setResource(o)}),this.collections[t].page=e.page,this.collections_lastupdate[t]=Date.now()},t.prototype.getOrCreateResource=function(t,e){if(o.a.getService(t).cachememory&&e in o.a.getService(t).cachememory.resources)return o.a.getService(t).cachememory.resources[e];var r=o.a.getService(t).new();return r.id=e,this.setResource(r,!1),r},t.prototype.setResource=function(t,e){void 0===e&&(e=!1),t.id in this.resources?i.a.resourceToResource(t,this.resources[t.id]):this.resources[t.id]=t,this.resources[t.id].lastupdate=e?Date.now():0},t.prototype.deprecateCollections=function(t){var e=this;return n.a.forEach(this.collections_lastupdate,function(t,r){e.collections_lastupdate[r]=0}),!0},t.prototype.removeResource=function(t){n.a.forEach(this.collections,function(e,r){delete e[t]}),this.resources[t].attributes={},this.resources[t].relationships={},delete this.resources[t]},t}()},"./src/services/cachestore.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r("./src/core.ts"),o=r("./src/services/base.ts"),i=r("./src/services/converter.ts"),s=function(){function t(){}return t.prototype.getResource=function(t,e){var r=this;return void 0===e&&(e=[]),new Promise(function(s,a){n.a.injectedServices.JsonapiStoreService.getObjet(t.type+"."+t.id).then(function(n){i.a.build({data:n},t);var u=[];o.a.forEach(e,function(e){if(e in t.relationships){var n=t.relationships[e].data;if(!("attributes"in n)){var o=r.getResourceFromMemory(n);o.is_new?u.push(r.getResource(o)):console.warn("ts-angular-json: esto no deberÃ­a pasar #isdjf2l1a"),t.relationships[e].data=o}}}),t.lastupdate=n._lastupdate_time,0===u.length?s(n):Promise.all(u).then(function(t){s(t)}).catch(function(t){a(t)})}).catch(function(){a()})})},t.prototype.setResource=function(t){n.a.injectedServices.JsonapiStoreService.saveObject(t.type+"."+t.id,t.toObject().data)},t.prototype.getCollectionFromStorePromise=function(t,e,r){var n=this;return new Promise(function(o,i){n.getCollectionFromStore(t,e,r,o,i)})},t.prototype.getCollectionFromStore=function(t,e,r,o,i){var s=this;n.a.injectedServices.JsonapiStoreService.getObjet("collection."+t).then(function(t){if(s.fillCollectionWithArrrayAndResourcesOnMemory(t.data,r))return r.$source="store",r.$cache_last_update=t._lastupdate_time,void o(r);s.fillCollectionWithArrrayAndResourcesOnStore(t,e,r).then(function(){if("new"!==r.$source)throw console.warn("ts-angular-json: esto no deberÃ­a pasar. buscar eEa2ASd2#"),new Error("ts-angular-json: esto no deberÃ­a pasar. buscar eEa2ASd2#");r.$source="store",r.$cache_last_update=t._lastupdate_time,o(r)}).catch(function(){i()})}).catch(function(){i()})},t.prototype.fillCollectionWithArrrayAndResourcesOnMemory=function(t,e){var r=!0;for(var n in t){var o=t[n],i=this.getResourceFromMemory(o);if(i.is_new){r=!1;break}e[o.id]=i}return r},t.prototype.getResourceFromMemory=function(t){return i.a.getService(t.type).cachememory.getOrCreateResource(t.type,t.id)},t.prototype.fillCollectionWithArrrayAndResourcesOnStore=function(t,e,r){var n=this;return new Promise(function(o,s){var a={},u=[];for(var c in t.data){var l=t.data[c],h=i.a.getService(l.type).cachememory;a[l.id]=h.getOrCreateResource(l.type,l.id),u.push(n.getResource(a[l.id],e))}Promise.all(u).then(function(e){t.page&&(r.page=t.page);for(var n in a){var i=a[n];r[i.id]=i}o(r)}).catch(function(t){s(t)})})},t.prototype.setCollection=function(t,e,r){var i=this,s={data:{},page:{}},a={};o.a.forEach(e,function(t){i.setResource(t),s.data[t.id]={id:t.id,type:t.type},o.a.forEach(r,function(e){if("id"in t.relationships[e].data){var r=t.relationships[e].data;a[e+r.id]=r}else{var n=t.relationships[e].data;o.a.forEach(n,function(t){a[e+t.id]=t})}})}),s.page=e.page,n.a.injectedServices.JsonapiStoreService.saveObject("collection."+t,s),o.a.forEach(a,function(t){"is_new"in t?i.setResource(t):console.warn("No se pudo guardar en la cache el",t.type,"por no se ser IResource.",t)})},t.prototype.deprecateCollections=function(t){return n.a.injectedServices.JsonapiStoreService.deprecateObjectsWithKey("collection."+t),!0},t}()},"./src/services/converter.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r("./src/core.ts"),o=r("./src/resource.ts"),i=r("./src/services/resource-relationships-converter.ts"),s=r("./src/services/base.ts"),a=function(){function t(){}return t.json_array2resources_array=function(e,r){void 0===r&&(r={});for(var n=0,o=e;n<o.length;n++){var i=o[n],s=t.json2resource(i,!1);r[s.type+"_"+s.id]=s}},t.json_array2resources_array_by_type=function(e){var r={},n={};return t.json_array2resources_array(e,r),s.a.forEach(r,function(t){t.type in n||(n[t.type]={}),n[t.type][t.id]=t}),n},t.json2resource=function(e,r){if(t.getService(e.type))return t.procreate(e);console.warn("`"+e.type+"`","service not found on json2resource()");var n=new o.a;return n.id=e.id,n.type=e.type,n},t.getService=function(t){var e=n.a.me.getResourceService(t);return e},t.procreate=function(e){"type"in e&&"id"in e||console.error("Jsonapi Resource is not correct",e);var r;return r=e.id in t.getService(e.type).cachememory.resources?t.getService(e.type).cachememory.resources[e.id]:t.getService(e.type).cachememory.getOrCreateResource(e.type,e.id),r.attributes=e.attributes||{},r.is_new=!1,r},t.build=function(e,r){var n={};"included"in e&&(n=t.json_array2resources_array_by_type(e.included)),Array.isArray(e.data)?t._buildCollection(e,r,n):t._buildResource(e.data,r,n)},t._buildCollection=function(e,r,n){r.page&&e.meta&&(r.page.number=e.meta.page||1,r.page.resources_per_page=e.meta.resources_per_page||null,r.page.total_resources=e.meta.total_resources||null);for(var o={},i=0,a=e.data;i<a.length;i++){var u=a[i];u.id in r||(r[u.id]=t.getService(u.type).cachememory.getOrCreateResource(u.type,u.id)),t._buildResource(u,r[u.id],n),o[u.id]=u.id}s.a.forEach(r,function(t){t.id in o||delete r[t.id]})},t._buildResource=function(e,r,n){r.attributes=e.attributes,r.id=e.id,r.is_new=!1;var o=t.getService(e.type);if(r.relationships&&o){t.getService(e.type).parseFromServer(r.attributes);new i.a(t.getService,e.relationships,r.relationships,n,o.schema).buildRelationships()}},t}()},"./src/services/core-services.service.ts":function(t,e,r){"use strict";r("./src/sources/http.service.ts"),r("./src/sources/store.service.ts"),function(){function t(t,e,r){this.JsonapiHttp=t,this.rsJsonapiConfig=e,this.JsonapiStoreService=r}}()},"./src/services/localfilter.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r("./src/services/base.ts"),o=function(){function t(t){this.localfilterparams=t||{}}return t.prototype.passFilter=function(t,e){for(var r in e){if(!("object"==typeof t&&"attributes"in t))return!0;if("object"==typeof e[r])return e[r].test(t.attributes[r]);if("string"==typeof t.attributes[r])return t.attributes[r]===e[r]}return!1},t.prototype.filterCollection=function(t,e){var r=this;Object.keys(this.localfilterparams).length&&n.a.forEach(t,function(t,n){r.passFilter(t,r.localfilterparams)&&(e[n]=t)})},t}()},"./src/services/noduplicatedhttpcalls.service.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r("./src/shared/deferred.ts"),o=function(){function t(){this.calls={}}return t.prototype.hasPromises=function(t){return t in this.calls},t.prototype.getAPromise=function(t){t in this.calls||(this.calls[t]=[]);var e=new n.a;return this.calls[t].push(e),e.promise},t.prototype.setPromiseRequest=function(t,e){var r=this;e.then(function(e){if(t in r.calls){for(var n=0,o=r.calls[t];n<o.length;n++){o[n].resolve(e)}delete r.calls[t]}}).catch(function(e){if(t in r.calls){for(var n=0,o=r.calls[t];n<o.length;n++){o[n].reject(e)}delete r.calls[t]}})},t}()},"./src/services/page.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(){function t(){this.number=0,this.total_resources=0,this.resources_per_page=0}return t}()},"./src/services/path-builder.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r("./src/core.ts"),o=function(){function t(){this.paths=[],this.includes=[],this.get_params=[]}return t.prototype.applyParams=function(t,e){void 0===e&&(e={}),this.appendPath(t.getPrePath()),e.beforepath&&this.appendPath(e.beforepath),this.appendPath(t.getPath()),e.include&&this.setInclude(e.include)},t.prototype.appendPath=function(t){""!==t&&this.paths.push(t)},t.prototype.addParam=function(t){this.get_params.push(t)},t.prototype.setInclude=function(t){this.includes=t},t.prototype.getForCache=function(){return this.paths.join("/")+this.get_params.join("/")},t.prototype.get=function(){var t=[];return this.get_params=JSON.parse(JSON.stringify(t)),this.includes.length>0&&t.push("include="+this.includes.join(",")),this.paths.join("/")+(t.length>0?n.a.injectedServices.rsJsonapiConfig.params_separator+t.join("&"):"")},t}()},"./src/services/resource-functions.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(){function t(){}return t.resourceToResource=function(t,e){e.attributes=t.attributes;for(var r in e.relationships)if(r in t.relationships){if(!("id"in e.relationships[r].data))for(var n in e.relationships[r].data)n in t.relationships[r].data||delete e.relationships[r]}else delete e.relationships[r];for(var r in t.relationships)"id"in t.relationships[r].data?e.addRelationship(t.relationships[r].data,r):e.addRelationships(t.relationships[r].data,r)},t}()},"./src/services/resource-relationships-converter.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r("./src/services/base.ts"),o=r("./node_modules/rxjs/util/noop.js"),i=(r.n(o),function(){function t(t,e,r,n,o){this.getService=t,this.relationships_from=e,this.relationships_dest=r,this.included_resources=n,this.schema=o}return t.prototype.buildRelationships=function(){var t=this;n.a.forEach(this.relationships_from,function(e,r){if(!(r in t.relationships_dest)&&"data"in e&&(t.relationships_dest[r]={data:n.a.newCollection()}),e.data)if(t.schema.relationships[r]&&t.schema.relationships[r].hasMany){if(0===e.data.length)return void(t.relationships_dest[r]={data:n.a.newCollection()});t.__buildRelationshipHasMany(e,r)}else t.__buildRelationshipHasOne(e,r)})},t.prototype.__buildRelationshipHasMany=function(t,e){var r=this;if(this.getService(t.data[0].type)){var o=n.a.newCollection();n.a.forEach(t.data,function(t){var n=r.__buildRelationship(t,r.included_resources);!("attributes"in n)&&n.id in r.relationships_dest[e].data&&"attributes"in r.relationships_dest[e].data[n.id]?o[n.id]=r.relationships_dest[e].data[n.id]:o[n.id]=n});var i={};n.a.forEach(t.data,function(t){i[t.id]=!0}),n.a.forEach(this.relationships_dest[e].data,function(t){t.id in i||delete r.relationships_dest[t.id]}),this.relationships_dest[e].data=o}},t.prototype.__buildRelationshipHasOne=function(t,e){if(!("type"in t.data))return void(this.relationships_dest[e].data={});if(null!=this.relationships_dest[e].data&&t.data.id===this.relationships_dest[e].data.id||(this.relationships_dest[e].data={}),!this.relationships_dest[e].data.attributes||this.relationships_dest[e].data.id!==t.data.id){var r=this.__buildRelationship(t.data,this.included_resources);this.relationships_dest[e].data=r}},t.prototype.__buildRelationship=function(t,e){if(t.type in e&&t.id in e[t.type])return e[t.type][t.id];var r=this.getService(t.type);return r&&t.id in r.cachememory.resources?r.cachememory.resources[t.id]:(r&&r.cachestore.getResource(t).catch(o.noop),t)},t}())},"./src/services/url-params-builder.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r("./src/services/base.ts"),o=r("./node_modules/rxjs/util/isObject.js"),i=(r.n(o),function(){function t(){}return t.prototype.toparamsarray=function(t,e){var r=this;void 0===e&&(e="");var i="";return Array.isArray(t)||Object(o.isObject)(t)?n.a.forEach(t,function(t,n){i+=r.toparamsarray(t,e+"["+n+"]")}):i+=e+"="+t,i},t.prototype.toparams=function(t){var e=this,r="";return n.a.forEach(t,function(t,n){r+=e.toparamsarray(t,"&"+n)}),r.slice(1)},t}())},"./src/shared/deferred.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(){function t(){var t=this;this.promise=new Promise(function(e,r){t.resolve=e,t.reject=r})}return t}()},"./src/sources/http.service.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return f});var n=r("./src/shared/deferred.ts"),o=r("./node_modules/@angular/core/@angular/core.es5.js"),i=r("./src/services/noduplicatedhttpcalls.service.ts"),s=r("./src/core.ts"),a=r("./node_modules/@angular/common/@angular/common/http.es5.js"),u=r("./src/jsonapi-config.ts"),c=r("./node_modules/rxjs/add/operator/toPromise.js"),l=(r.n(c),r("./node_modules/rxjs/add/operator/map.js")),h=(r.n(l),this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}),p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e,r){this.http=t,this.rsJsonapiConfig=e,this.noDuplicatedHttpCallsService=r}return t.prototype.delete=function(t){return this.exec(t,"DELETE")},t.prototype.get=function(t){return this.exec(t,"get")},t.prototype.exec=function(t,e,r,o){var i=this;void 0===o&&(o=!0);var u=null;if("get"!==e||!this.noDuplicatedHttpCallsService.hasPromises(t)){var c=new a.c({"Content-Type":"application/vnd.api+json"}),l=new a.d(e,this.rsJsonapiConfig.url+t,{headers:c,body:r||null}),h=this.http.request(e,this.rsJsonapiConfig.url+t,l);"get"===e?this.noDuplicatedHttpCallsService.setPromiseRequest(t,h.toPromise()):u=h}"get"===e&&(u=this.noDuplicatedHttpCallsService.getAPromise(t));var p=new n.a;return s.a.me.refreshLoadings(1),u.then(function(t){setTimeout(function(){s.a.me.refreshLoadings(-1),p.resolve(t)},i.rsJsonapiConfig.delay)}).catch(function(t){s.a.me.refreshLoadings(-1),t.status<=0?s.a.me.loadingsOffline(t)||console.warn("Jsonapi.Http.exec (use JsonapiCore.loadingsOffline for catch it) error =>",t):o&&!s.a.me.loadingsError(t)&&console.warn("Jsonapi.Http.exec (use JsonapiCore.loadingsError for catch it) error =>",t),p.reject(t)}),p.promise},t=h([Object(o.C)(),p("design:paramtypes",[a.a,u.a,i.a])],t)}()},"./src/sources/store.service.ts":function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r("./node_modules/localforage/dist/localforage.js"),o=(r.n(n),r("./src/services/base.ts")),i=r("./node_modules/rxjs/util/noop.js"),s=(r.n(i),r("./src/shared/deferred.ts")),a=function(){function t(){this.globalstore=n.createInstance({name:"jsonapiglobal"}),this.allstore=n.createInstance({name:"allstore"}),this.checkIfIsTimeToClean()}return t.prototype.checkIfIsTimeToClean=function(){var t=this;this.globalstore.getItem("_lastclean_time").then(function(e){Date.now()>=e.time+432e5&&(t.globalstore.setItem("_lastclean_time",{time:Date.now()}),t.checkAndDeleteOldElements())}).catch(function(){t.globalstore.setItem("_lastclean_time",{time:Date.now()})})},t.prototype.checkAndDeleteOldElements=function(){var t=this;this.allstore.keys().then(function(e){o.a.forEach(e,function(e){t.allstore.getItem(e).then(function(r){Date.now()>=r._lastupdate_time+864e5&&t.allstore.removeItem(e)}).catch(i.noop)})}).catch(i.noop)},t.prototype.getObjet=function(t){var e=new s.a;return this.allstore.getItem("jsonapi."+t).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e.promise},t.prototype.getObjets=function(t){return this.allstore.getItem("jsonapi."+t[0])},t.prototype.saveObject=function(t,e){e._lastupdate_time=Date.now(),this.allstore.setItem("jsonapi."+t,e)},t.prototype.clearCache=function(){this.allstore.clear(),this.globalstore.clear()},t.prototype.deprecateObjectsWithKey=function(t){var e=this;this.allstore.keys().then(function(r){o.a.forEach(r,function(r){r.startsWith(t)&&e.allstore.getItem(r).then(function(t){t._lastupdate_time=0,e.allstore.setItem(r,t)}).catch(i.noop)})}).catch(i.noop)},t}()}},["./demo/bootstrap.ts"]);